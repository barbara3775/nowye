(this["webpackJsonpdaviplata-rp"]=this["webpackJsonpdaviplata-rp"]||[]).push([[0],{1101:function(e,n,a){},1102:function(e,n,a){"use strict";a.r(n);a(568),a(396),a(616);var t=a(1),r=a.n(t),o=a(116),i=a.n(o),c=(a(799),a(25)),l=a(12),s=a(18);function u(){var e=Object(l.a)(["\n    position:relative;\n    font-weight:bold;\n    font-style:italic;\n    font-size:50px;      \n    color:",";\n    margin:",";\n    \n    @media all and (max-width:540px){\n        font-size:30px;\n    }\n    \n    @media all and (max-width:340px){\n        font-size:24px;\n    }\n"]);return u=function(){return e},e}var m=s.a.div(u(),(function(e){return e.color}),(function(e){return e.margin}));var d=r.a.memo((function(e){var n=e.children,a=e.color,t=e.className,o=e.margin;return r.a.createElement(m,{color:a,className:t,margin:o||"30px 0"},n)})),p=a(69),f=a(31),g=a(14),b=a.n(g),x=a(32);function v(){var e=Object(l.a)(["\n  width: 100%;\n  height: auto;\n  display:flex;\n  flex-flow: "," wrap;\n  justify-content: ",";\n  align-items: ",";\n  flex: ",";\n  will-change:transform;\n"]);return v=function(){return e},e}var h=s.a.div(v(),(function(e){return e.direction}),(function(e){return e.jc}),(function(e){return e.alg}),(function(e){return e.flex}));function E(e){var n=e.flex,a=e.alg,t=e.jc,o=e.className,i=e.direction,c=e.children,l=e.style,s=e.onClick;return r.a.createElement(h,{className:o,flex:n,alg:a,jc:t,direction:i,style:l,onClick:s},c||null)}E.defaultProps={flex:"0 0 auto",alg:"center",jc:"center",className:"",direction:"row"};var w=E,y={white:"#F9F9F9",grey01:"rgba(0, 0, 0, 10%)",grey02:"#D1D1D1",grey03:"#7F7F7F",grey04:"#707070",black01:"#343537",black02:"#272727",black03:"#000000",verde:"#009688",rojo01:"#DD0014",errorlabel:"#DD141D",errorbg:"#F8EDED"},j=a(540),O=a.n(j);function k(){var e=Object(l.a)(["\n    position:relative;\n    flex:",";\n    max-width:500px;\n    margin-bottom:14px;\n    .prefix{\n        input{\n          padding-left: 20px;\n        }\n        &::after {\n          content: ","; \n          display: flex;\n          position: absolute;\n          width: 20px;\n          height: 100%;\n          background-color: transparent;\n          left: 0;\n          z-index: 1;\n          align-items: center;\n          padding-left: 5px;\n          margin: auto;\n          font-size: 1.5em;\n          color:  ",";\n        }\n    }\n    \n    label{\n        font-size:",";\n        color:",";\n        font-weight:",";\n        text-align:left;\n        width:100%;\n        font-family:",";\n        margin-bottom:",";\n        \n        \n        @media all and (max-width:340px){\n            font-size: ","; \n        }\n        \n        @media all and (max-width:768px){\n            font-size: 16px; \n        }\n     }\n    \n    input,select,textarea{\n        flex:10 0 70%;\n        background-color:",";\n        color:  ",";\n        cursor: ",";\n        border-radius:","; \n        height:",";\n        margin-top: ",";\n        width:100%;\n        padding:",";\n        border:none;\n        border-bottom: ",";\n        font-weight:",";\n        font-family:",";\n        font-size:",";\n        &:disabled{\n          border-bottom: ",";\n        }\n        \n        &:focus{\n            outline:none;\n            border-bottom:",";   \n        }\n        \n        @media all and (max-width:768px){\n            font-size: 16px;\n        }  \n    }\n    \n    .bfr{\n        font-size:18px;\n        position:absolute;\n        left:0;\n        bottom:0;\n        width:20px;\n        height:100%;\n        color:",";\n        \n        @media all and (min-width:768px){\n            font-size:",";\n        }  \n    }\n    \n    .pesos{\n        font-size:",";\n        color: "," !important;\n        margin-left: -3%;\n        \n        @media all and (max-width:768px){\n            font-size: 16px;\n        } \n    }\n    \n    textarea{\n        height:70px;\n    }\n"]);return k=function(){return e},e}var N=s.a.div(k(),(function(e){return e.flex}),(function(e){return e.prefix?'"'.concat(e.prefix,'"'):null}),(function(e){return e.theme.color}),(function(e){return e.theme.label.size}),(function(e){return e.theme.label.color}),(function(e){return e.theme.label.weight}),(function(e){return e.theme.label.font}),(function(e){return e.theme.label.margin}),(function(e){return"16px"===e.theme.label.size?"14px":e.theme.label.size}),(function(e){return e.theme.bg}),(function(e){return e.theme.color}),(function(e){return e.theme.cursor}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.input.height}),(function(e){return e.theme.input.marginTop}),(function(e){return e.theme.input.padding}),(function(e){return e.theme.input.border}),(function(e){return e.theme.input.weight}),(function(e){return e.theme.input.font}),(function(e){return e.theme.input.fZise}),(function(e){return e.theme.input.border}),(function(e){return e.theme.focus.border}),(function(e){return e.theme.focus.color}),(function(e){return e.theme.input.fZise}),(function(e){return e.theme.input.fZise}),y.errorlabel);var C=r.a.memo((function(e){var n=e.flex,a=void 0===n?"1 0 100%":n,t=e.children,o=e.disabled,i=e.error,c=e.label,l=e.type,s=void 0===l?"text":l,u=e.onChange,m=e.value,d=e.name,p=e.placeholder,f=e.prefix,g=e.style,b=e.mw,x=e.className,v=e.line,h=e.before,E=e.labelSize,j=e.inputHeight,k=e.font,C=e.weight,D=e.ClveOptions,S=e.Clve,A=e.fZise,z=e.marginTop,_=e.color,P=e.onPaste,T=void 0===P?null:P,R={bg:i?v?"transparent":y.errorbg:v?"transparent":y.white,color:i?y.rojo01:o?"#000000":_||"#000000",cursor:o?"not-allowed":"pointer",borderRadius:v?"0":"7px",label:{margin:v?"3px":"5px",color:i?y.errorlabel:y.black01,weight:v?C||"regular":"bold",size:v?E||"20px":"24px",focus:{bColor:y},font:k||"Roboto Condensed"},input:{borderR:v?"none":"7px",border:v?"0.1px solid ".concat(i?y.rojo01:y.grey01):"none",bg:v?"transparent":i?y.errorbg:y.white,height:v?j||"35px":"42px",marginTop:z||"none",color:i?y.rojo01:"black",weight:v?"300":"400",font:k||"Roboto Condensed",fZise:A||(v?"22":"16px")},border:v?"1px solid "+y.grey03:"none",focus:{border:v?"1px solid ":"none"}},F="text"==s||"number"==s;return r.a.createElement(N,{className:x,prefix:F?f:null,flex:a,theme:R,style:g,mw:b},r.a.createElement("label",null,c," ",i&&r.a.createElement("i",{className:"icon icon-info-circle"}," ")),t||r.a.createElement(w,{className:"wc ".concat("undefined"!==typeof f&&F?"prefix":"")},h&&r.a.createElement(w,{flex:"0 0 35px",className:"pesos"},"$"),S?r.a.createElement(O.a,{options:D,type:s,onChange:u,value:m,name:d,placeholder:p,disabled:o,onPaste:T}):r.a.createElement("input",{type:s,onChange:u,value:m,name:d,placeholder:p,disabled:o,onPaste:T})))}));function D(){var e=Object(l.a)(["\n    width:100%;\n    max-width:",";\n    flex: ",";\n    position:relative;\n    height:","px;\n    \n    \n    button{   \n        background:       ",";\n        font-size:        ","px;\n        color:            ",";\n        border:1px solid  ",";\n        width:100%;\n        min-height: 40px;\n        border-radius:    ",";\n        cursor:           ",";\n        \n        font-weight: "," !important;\n        font-family: ",", sans-serif;\n        \n        &:hover{\n            background:   ",";\n            box-shadow: 0 4px 0 rgba(0,0,0,.3);\n        }\n      \n    }\n    \n    \n    .load{\n        width:100%;\n        position:absolute;\n        top:0;\n        left:0;\n        height:100%;\n        z-index:2;\n        \n        .circle{\n            width:  ","px;\n            height: ","px;\n            border-radius:50%;\n            border: 4px solid transparent;\n            border-color: rgba(0,0,0,.2) rgba(0,0,0,.2) rgba(0,0,0,.2) ","; \n            animation: girar .5s ease-out infinite;\n        }\n    }\n"]);return D=function(){return e},e}var S=s.a.div(D(),(function(e){return e.theme.mw}),(function(e){return e.theme.flex}),(function(e){return e.theme.height}),(function(e){return e.theme.bg}),(function(e){return e.theme.text}),(function(e){return e.theme.color}),(function(e){return e.theme.borde}),(function(e){return e.theme.bRadius}),(function(e){return e.theme.cursor}),(function(e){return e.theme.fontWeight}),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.hoverColor}),(function(e){return e.theme.height-4}),(function(e){return e.theme.height-4}),(function(e){return e.theme.loading}));var A=function(e){var n=e.btntype,a=void 0===n?"none":n,t=e.type,o=e.text,i=e.children,c=e.onClick,l=e.disabled,s=e.loading,u=e.bRadius,m=void 0===u?"6px":u,d=e.flex,p=e.className,f=e.mw,g=e.size,b=void 0===g?"lg":g,x=e.fontWeight,v=void 0===x?"400":x,h=e.fontFamily,E=void 0===h?"Roboto Condensed":h,j={height:{xs:20,sm:30,md:40,lg:44,xl:80},text:{xs:12,sm:14,md:16,lg:20,xl:30}},O={borde:(l=s||l)&&!s?"reset"!==a?y.grey03:"transparent":(s||!l)&&("reset"!==a?y.rojo01:"transparent"),bg:l?s?"none"===a?y.rojo01:"white":"none"===a||"secondary"===a?y.grey03:"white":"none"===a?y.rojo01:"white",cursor:l&&s?"wait":l&&!s?"not-allowed":"pointer",bRadius:m,color:l&&!s?"none"===a?"white":y.grey03:s?"rgba(0,0,0,.0)":"secondary"===a?y.grey03:"none"===a?"white":y.rojo01,loading:"line"===a||"reset"===a?y.verde03:"white",flex:d,mw:f,hoverColor:l?s?y.rojo01:y.grey03:"line"===a||"reset"===a?"#f1f1f2":"secondary"===a?y.grey03:y.rojo01,height:j.height[b],text:j.text[b],fontFamily:E,fontWeight:v};return r.a.createElement(S,{theme:O,className:p},r.a.createElement("button",{onClick:c,disabled:l,type:t},i||o),s&&r.a.createElement(w,{className:"load",direction:"column"},r.a.createElement("div",{className:"circle"})))},z=function(e){var n=e.id,a=e.name,o=e.value,i=e.onChange,c=e.classname,l=e.disabled,s=void 0===l?function(){}:l,u=e.resource,m=void 0===u?[]:u,d=e.placeholder,p=e.renderName,f=void 0===p?"name":p,g=e.renderValue,b=void 0===g?"key":g,x=e.valueLock,v=void 0===x?[]:x;return r.a.createElement(t.Fragment,null,r.a.createElement("select",{id:n,name:a,value:o,disabled:s,onChange:s?function(){}:i,className:c},r.a.createElement("option",{value:""}," ",d),m.length>0&&m.map((function(e,n){return a=v,t=e[b],a.length&&a.filter((function(e){return e==t})).length?"":r.a.createElement("option",{value:e[b],key:n},e[f]);var a,t}))))};z.defaultProps={id:"",name:"",value:"",renderName:"name",placeholder:"Seleccione una opci\xf3n...",renderValue:"id",classname:"",onChange:function(){},resource:[],valueLock:[]};var _=Object(t.memo)(z),P=a(43),T=a(194),R=a(64),F=function(e){return{payload:e,type:"SET_STATE_GLOBAL"}},L=a(15),I=a(545),M=a(546),B=a(563),V=a(565),q=a(1103);function Y(){var e=Object(l.a)(["\n    display: flex;\n    height: 100%;\n    flex: 1 1 1%;\n    @media only screen and (max-width: 570px){\n      display: none;\n      visibility: hidden;\n    }\n"]);return Y=function(){return e},e}var G=s.a.div(Y()),H=function(e){var n=window.innerWidth<768,a=e.masOscuro?"masOscuro":"",t=e.className?e.className:"";return r.a.createElement(q.a,{in:!!e.show,timeout:600,classNames:"fade",unmountOnExit:!0},r.a.createElement(w,{className:"modal-container",direction:"column"},r.a.createElement("div",{className:"sombra-modal ".concat(a),onClick:e.closeMask&&"error"==e.type?e.onClose:function(){}}," "),r.a.createElement(w,{className:"area wc position-relative px-2"},e.closeMask&&"error"==e.type?r.a.createElement(G,{onClick:e.closeMask?e.onClose:function(){}}):null,e.reset?r.a.createElement("div",{className:" wc gira"},e.children):r.a.createElement("div",{className:"card ".concat(t," wc"),style:{maxWidth:e.MW?e.MW:"502px"}},!e.hideClose&&r.a.createElement("div",{className:"close close2",onClick:e.onClose},r.a.createElement("i",{className:"icon-cancel"}," ")),r.a.createElement("div",{className:"content"},e.children),!e.noBtn&&r.a.createElement(w,{className:"wc botones px-0",jc:"space-around",flex:"0 0 350px"},r.a.createElement(A,{size:n?"md":"lg",bRadius:"22px",mw:n?"114px":"150px",className:"mx-2 btn-secundario",btntype:"secondary",onClick:e.onClose,disabled:e.loading},"Cancelar"),r.a.createElement(A,{size:n?"md":"lg",bRadius:"22px",mw:n?"114px":"150px",className:"mx-2 btn-primario",onClick:e.onConfirm,loading:e.loading},"Aceptar"))),e.closeMask&&"error"==e.type?r.a.createElement(G,{onClick:e.closeMask?e.onClose:function(){}}):null)))},W=function(e){Object(V.a)(a,e);var n=Object(B.a)(a);function a(){return Object(I.a)(this,a),n.apply(this,arguments)}return Object(M.a)(a,[{key:"render",value:function(){return i.a.createPortal(r.a.createElement(H,this.props,this.props.children),document.getElementById("cont-modal"))}}]),a}(t.Component),U=r.a.memo(W);function $(){var e=Object(l.a)(["\n    position:relative;\n    padding:34px 40px;\n    width:100%;\n    max-width:500px;\n    \n    .icon{\n        font-size:35px;\n        line-height:35px;\n        color:",";\n    }\n    \n    .texto01{\n        font-weight:700;\n        font-size:30px;\n        max-width:311px;\n        line-height:1.1em;\n        \n        @media all and (max-width:480px){\n            font-size:18px;\n            max-width:185px;\n        } \n    }\n    \n    .texto02{\n      font-weight:400;\n      font-size:25px;\n      padding: 20px 0;\n      line-height:1em;\n      \n      .strng{\n          display:inline-block;\n          font-weight:700;\n          margin-left:7px;\n      }\n      \n      @media all and (max-width:480px){\n          font-size:16px;\n      } \n    }\n    \n    @media all and (max-width:480px){\n            padding: 20px 30px;\n    } \n     \n  \n"]);return $=function(){return e},e}var K=s.a.div($(),y.rojo01);var Z=r.a.memo((function(e){var n=e.type,a=e.comision,t=e.textLeft,o=e.textRight,i=e.message,c=void 0===i?"El DaviPlata ingresado es inv\xe1lido":i,l=e.className,s="undefined"!==typeof t&&void 0!==typeof t?"text-left":"undefined"!==typeof o&&void 0!==typeof o?"text-right":"text-center";return r.a.createElement(K,{className:l},"error"===n?r.a.createElement(w,{className:"wc",alg:"flex-start",jc:"flex-start"},r.a.createElement(w,{flex:"0 0 40px",className:"icon"},r.a.createElement("i",{className:"icon-info"}," ")),r.a.createElement(w,{className:"texto01 pl-3 ".concat(s||""),flex:"1 0 70%"},c)):r.a.createElement(w,{className:"wc",alg:"flex-start",jc:"flex-start"},r.a.createElement(w,{className:"texto02  ".concat(s||""),flex:"1 0 60%"},"Esta transacci\xf3n tiene un costo de ",r.a.createElement("span",{className:"strng"},"$",a," "),r.a.createElement("br",null),"\xbfDesea continuar?")))})),X=a(71),J=a.n(X),Q=a(150),ee=a(547),ne={},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_PAGOS_DATA":return Object(f.a)({},e,{},n.payload);default:return e}},te={toast:{status:!1,message:""},tokenCaptcha:"",response:{numero:"3506928681",amount:"150000",fecha:"22/12/20 - 15:00",cost:"$0",status:"aceptada"},banks:[],loading:!0,comision:0,modalComision:!1,modalLoading:!1},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_STATE_GLOBAL":return Object(f.a)({},e,{},n.payload);default:return e}},oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Q.d,ie=Object(Q.e)(Object(Q.c)({pagos:ae,global:re}),oe(Object(Q.a)(ee.a))),ce=a(229),le=a.n(ce),se="MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA1Ijtd6/YfaLpfK+VSjH2DYAfsW5EtmYDPAVAM6cIVN7+P6AIz13N5atkKR8Z6rMfErxAU6E1pH6sT2jgVL/OuArJGXROPyNYqPlILon/kpp2Azw44ILo53YW07FoQM/KpG26tY/myHGyykaegDN2v2KFexsX5oHW0TYl4NbDqRLBCcedaXwWb+gdF1jb/J6kqTdgTxxuABsQC5y1xXw99uX/O+JI2SdYmUVg7qq5NQub/9fLiduTxyFJRZRxWvsAyqSV7PquZ6x4r45h6y3DnX/muBIKSyU5T0Om/M93SLzMylsxJKn8T4i6c9BL370J1pV9HAvpv/rbMMeosV/QthfvjBVSk4yciuIwa5cr+WQx4IZ34v2rA4gazrw2x2U5u6APkyL9DnMCRc48jEo8lxpEVwdUidhfvC/dDb4xWqj8K2eKxAnzlsnqr8VK6JwHudhyWL5U4ZRRq/JGYmrMWK0KCzBprI5aYjSAmxiqcuHC6+Zegt6+cG3IaT2DplcU8SyK9JqfnKv2Efm/ddidPsolqlR6S5vu+no5vc6OFBpv6OLtvVkWpqOLePapX+UKdNRhKUrTWFSC5a7+nDzSwe3An9rHOtuS/SGSr4EjRchMCcugM5+2VpSUeSl7xmL/n1pUTzN0d694/H91ahojaf1z1U704ftu2tva8t2jPu0CAwEAAQ==",ue=function(e){return le.a.AES.encrypt(e,se).toString()},me=function(e,n){var a=new Date;a.setTime(a.getTime()+2592e6);var t="expires="+a.toUTCString(),r=le.a.AES.encrypt(JSON.stringify(n),se).toString();document.cookie=e+"="+r+";"+t+";path=/"},de=function(e){for(var n=e+"=",a=document.cookie.split(";"),t=0;t<a.length;t++){for(var r=a[t];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(n)){var o=le.a.AES.decrypt(r.substring(n.length,r.length),se);return JSON.parse(o.toString(le.a.enc.Utf8))}}return""},pe=function(){for(var e=document.cookie.split(";"),n=0;n<e.length;n++){var a=e[n],t=a.indexOf("="),r=t>-1?a.substr(0,t):a;document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}},fe=function(){var e=Object(x.a)(b.a.mark((function e(n){var a,t,r=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]&&r[1],t="",e.next=4,J()({method:"post",data:{dominio:n},url:"https://secure.payco.co/recaudo/api/recaudo/get/token"}).then(function(){var e=Object(x.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===n.status&&(t=n.data.data.token,a&&xe(t));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){a&&xe()}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ge=function(){var e=Object(x.a)(b.a.mark((function e(n,a){var t,r,o,i,c,l,s,u,m,d,f,g,v=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v.length>2&&void 0!==v[2]?v[2]:null,r=v.length>3&&void 0!==v[3]?v[3]:"",o=window.location.origin,n){e.next=5;break}return e.abrupt("return","");case 5:return i=n.daviplata,c=n.value,l=n.bank,s=n.email,u="recargar"===a?"/meter-plata/respuesta":"pagar"===a?"/pagar/respuesta":"/recargaD/respuesta",t||(t="recargar"===a?"1070":"pagar"===a?"1080":"1053"),m="recargaD"===a?"recargar":a,d={recargar:{consulta:[{parametro:"daviplataCellphone",value:ue(i)},{parametro:"value",value:ue(c)},{parametro:"bank",value:ue(l)},{parametro:"urlResponse",value:ue("".concat(o).concat(u))},{parametro:"email",value:ue(s)},{parametro:"commission",value:ue(t)},{parametro:"idRequest",value:""}],dominio:"https://daviplata.epayco.me/recaudo/recargar"},pagar:{consulta:[{parametro:"daviplataCellphone",value:ue(i)},{parametro:"value",value:ue(c)},{parametro:"bank",value:ue(l)},{parametro:"urlResponse",value:ue("".concat(o).concat(u))},{parametro:"email",value:ue(s)},{parametro:"commission",value:ue(t)},{parametro:"invoice",value:ue(n.invoice)}],dominio:"https://pagardaviplata.epayco.me/recaudo/pagar"}},f={},e.prev=11,e.next=14,fe(de("dominioRecaudo"));case 14:return g=e.sent,e.next=17,J()({data:d[m],url:"https://secure.payco.co/recaudo/api/recaudo/proyecto/api/consulta/facturas",method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(g),Landing:"meter-plata","X-api-key":r}}).then(function(){var e=Object(x.a)(b.a.mark((function e(n){var a,t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.data.text_response,200===n.status&&n.data.success?(t=n.data.data.facturas,me("refPayco",t[0].identificacionEmpresa),me("transactionID",t[0].extra8),me("daviplata",i),window.__insp&&window.__insp.push(["tagSession",(r={},Object(p.a)(r,"refPayco: "+t[0].identificacionEmpresa,t[0].identificacionEmpresa),Object(p.a)(r,"transactionID: "+t[0].extra8,t[0].extra8),Object(p.a)(r,"daviplata: "+i,i),Object(p.a)(r,"email: "+s,s),r)]),f={status:!0,url:t[0].extra1,message:a}):f={status:!1,message:a};case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){f={status:!1,message:e.message}}));case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(11),e.abrupt("return",e.t0);case 22:return e.abrupt("return",f);case 23:case"end":return e.stop()}}),e,null,[[11,19]])})));return function(n,a){return e.apply(this,arguments)}}(),be=function(){var e=Object(x.a)(b.a.mark((function e(n,a){var t,r,o,i,c,l,s,u,m,d,f,g=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.length>2&&void 0!==g[2]?g[2]:"",r=window.location.origin,n){e.next=4;break}return e.abrupt("return","");case 4:return o=n.daviplata,i=n.value,c=n.bank,l=n.idRequest,s="/recargaD/respuesta",u="1053",m={consulta:[{parametro:"daviplataCellphone",value:ue(o)},{parametro:"value",value:ue(i)},{parametro:"bank",value:ue(c)},{parametro:"urlResponse",value:ue("".concat(r).concat(s))},{parametro:"idRequest",value:ue(l)},{parametro:"commission",value:ue(u)},{parametro:"email",value:""}],dominio:"https://daviplata.epayco.me/recaudo/recargar"},d={},e.prev=9,e.next=12,fe(de("dominioRecaudo"));case 12:return f=e.sent,e.next=15,J()({data:m,url:"https://secure.payco.co/recaudo/api/recaudo/proyecto/api/consulta/facturas",method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(f),Landing:"recarga-D","X-api-key":t}}).then(function(){var e=Object(x.a)(b.a.mark((function e(n){var a,t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.data.text_response,200===n.status&&n.data.success?(t=n.data.data.facturas,me("refPayco",t[0].identificacionEmpresa),me("transactionID",t[0].extra8),me("daviplata",o),window.__insp&&window.__insp.push(["tagSession",(r={},Object(p.a)(r,"refPayco: "+t[0].identificacionEmpresa,t[0].identificacionEmpresa),Object(p.a)(r,"transactionID: "+t[0].extra8,t[0].extra8),Object(p.a)(r,"daviplata: "+o,o),Object(p.a)(r,"email: "+l,l),r)]),d={status:!0,url:t[0].extra1,message:a}):d={status:!1,message:a};case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){d={status:!1,message:e.message}}));case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(9),e.abrupt("return",e.t0);case 20:return e.abrupt("return",d);case 21:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(n,a){return e.apply(this,arguments)}}(),xe=function(){var e=Object(x.a)(b.a.mark((function e(){var n,a,t=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.length>0&&void 0!==t[0]&&t[0]){e.next=5;break}return e.next=4,fe(de("dominioRecaudo"));case 4:n=e.sent;case 5:a="".concat("https://secure.payco.co/recaudo","/api/apify/payment/process/pse"),J()({url:a,method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){var n=e.data;if(n.success){var a=n.data;ie.dispatch({type:"SET_STATE_GLOBAL",payload:{banks:a,loading:!1}})}else ie.dispatch({type:"SET_STATE_GLOBAL",payload:{loading:!1,toast:{status:!0,message:"Ocurri\xf3 un error bancos PSE."}}})})).catch((function(){ie.dispatch({type:"SET_STATE_GLOBAL",payload:{loading:!1,toast:{status:!0,message:"Ocurri\xf3 un error bancos PSE."}}})}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(e){return ie.dispatch({type:"SET_STATE_GLOBAL",payload:{toast:{status:!0,message:e}}})},he=function(){var e=Object(x.a)(b.a.mark((function e(n,a){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,fe(de("dominioRecaudo"));case 3:return r=e.sent,e.next=6,J()({data:{commission:n},url:" ".concat("https://secure.payco.co/recaudo","/api/apify/commission/list"),method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)}}).then((function(e){var n=e.data;if(me("commission",0),me("canal",""),200===e.status&&n.success){var r=n.data,o=r.fixed,i=r.percent,c=r.limitTransaction,l=r.channel;return me("canal",l),a&&a>c?(t.status=!1,t.typeError="monto",t):(me("commission",o||i),t.status=!1,ie.dispatch({type:"SET_STATE_GLOBAL",payload:{comision:o||i,modalComision:!0}}),t)}return t.status=!0,t.typeError="monto",t.message="No se pudo consultar la comision.",t})).catch((function(e){return ve("ERROR:".concat(e,". Ocurri\xf3 un error, intente m\xe1s tarde.")),t.status=!0,t.message="No se pudo consultar la comision.",t}));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(x.a)(b.a.mark((function e(n,a,t){var r,o,i=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>3&&void 0!==i[3]?i[3]:"",ie.dispatch({type:"SET_STATE_GLOBAL",payload:{modalLoading:!0}}),o="","recargaD"!==a){e.next=9;break}return e.next=6,be(t||{daviplata:n.number.toString(),value:n.amount.toString(),bank:n.bank.toString(),idRequest:n.idRequest,email:""},a,r);case 6:o=e.sent,e.next=12;break;case 9:return e.next=11,ge(t||{daviplata:n.number.toString(),value:n.amount.toString(),bank:n.bank.toString(),email:n.email.toString(),idRequest:""},a,r);case 11:o=e.sent;case 12:o.status?window.location.assign(o.url):(ve(o.message),ie.dispatch({type:"SET_STATE_GLOBAL",payload:{modalLoading:!1,modalComision:!1}}));case 13:case"end":return e.stop()}}),e)})));return function(n,a,t){return e.apply(this,arguments)}}(),we=a(96),ye=a(564);function je(){var e=Object(l.a)(["\n  margin: 15px auto;\n  display: flex;\n  justify-content: center;\n"]);return je=function(){return e},e}var Oe=s.a.div(je()),ke=function(e){var n=e.className,a=void 0===n?"":n,t=r.a.useRef();return r.a.createElement(Oe,{className:a},r.a.createElement(ye.a,{ref:t,onChange:function(e){ie.dispatch({type:"SET_STATE_GLOBAL",payload:{tokenCaptcha:e}})},sitekey:"6Ld96BsTAAAAALXvSsGX-7KdjoXRuXcFrMx4xB-O"}))};function Ne(){var e=Object(l.a)(["\n    position:relative;\n"]);return Ne=function(){return e},e}var Ce=s.a.div(Ne());var De={setGlobalData:F},Se=Object(R.b)((function(e){return{tokenCaptcha:e.global.tokenCaptcha,global:e.global}}),De)(r.a.memo((function(e){var n=Object(t.useState)(L.c),a=Object(c.a)(n,2),o=a[0],i=(a[1],Object(t.useState)("")),l=Object(c.a)(i,2),s=l[0],u=l[1],m=Object(t.useState)(""),d=Object(c.a)(m,2),g=d[0],v=d[1],h=Object(t.useState)(!1),E=Object(c.a)(h,2),y=E[0],j=E[1],O=Object(t.useState)({number:"",amount:""}),k=Object(c.a)(O,2),N=k[0],D=k[1],S=P.c({number:P.e().min(10,L.h.phone).required("error"),confirmNumber:P.e().min(10,L.h.phone).oneOf([P.d("number"),null],L.h.confirm).required("error"),amount:P.b().min(1e4,L.h.min).max(5e6,L.h.max).required("error"),email:P.e().email(L.h.email).required("error"),bank:P.e().min(4,L.h.bank).required("error")}),z=Object(t.useState)({number:"",confirmNumber:"",amount:"",email:"",bank:""}),R=Object(c.a)(z,2),F=R[0],I=R[1],M=function(){var n=Object(x.a)(b.a.mark((function n(a){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return ie.dispatch({type:"SET_STATE_GLOBAL",payload:{modalLoading:!0}}),"1070",n.next=4,ge({daviplata:a.number.toString(),value:a.amount.toString(),bank:a.bank.toString(),email:a.email.toString(),idRequest:""},"recargar","1070",e.tokenCaptcha);case 4:(t=n.sent).status?window.location.assign(t.url):(u("error"),v(t.message),j(!1),ie.dispatch({type:"SET_STATE_GLOBAL",payload:{modalLoading:!1}}));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),B=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=e.target,t=a.name,r=a.value,o=r;"number"!=t&&"confirmNumber"!=t&&"amount"!=t&&"bank"!=t||(o=parseInt(o)||""),n([t],o),I(Object(f.a)({},F,Object(p.a)({},t,o)))};Object(t.useEffect)((function(){me("confirm",!1)}),[]);var V=Object(we.a)().sendDataToGTM;return r.a.createElement(Ce,{className:" pb-xl-5 mb-lg-5"},r.a.createElement(T.a,{initialValues:{number:"",confirmNumber:"",amount:"",bank:"",error:"",email:""},validationSchema:S,onSubmit:function(){var e=Object(x.a)(b.a.mark((function e(n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V({eventCategory:"Proceso de pago - Daviplata",eventAction:"Click",eventLabel:"Informaci\xf3n del Pago - Continuar",eventValue:"",event:"eventClick"}),j(!0),"1070",e.next=5,he("1070",n.amount);case 5:if(!(a=e.sent).status){e.next=11;break}return e.next=9,M(n);case 9:e.next=13;break;case 11:j(!1),"monto"===a.typeError&&(u("error"),v("DaviPlata excede tope."),D(Object(f.a)({},N,{amount:"Monto no permitido."})));case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},(function(n){var a=n.errors,t=n.values,i=n.touched,c=n.setFieldValue,l=n.handleSubmit;return r.a.createElement("form",{className:"wc",onSubmit:function(e){if(Object.keys(a).length>0){u("error");var n=a.number||a.confirmNumber||a.amount||a.bank||a.email||"Los datos ingresados son incorrectos";v(n)}e.preventDefault(),l()}},r.a.createElement(w,{className:"wc",alg:"stretch",jc:"space-between"},r.a.createElement(w,{className:"col-12 col-md-6 px-0"},r.a.createElement(C,{label:"\xbfA qu\xe9 n\xfamero DaviPlata quiere meter plata?",placeholder:"N\xfamero de celular",value:t.number,onChange:function(e){B({target:{name:"number",value:Object(L.f)(e.target.value,10)}},c)},disabled:y,error:a.number&&i.number||N.number,labelSize:"16px",className:"mb-sm-3 mb-md-5  pr-md-2 ",fZise:"22px",type:"tel"}),r.a.createElement(C,{label:"Confirme el n\xfamero DaviPlata",placeholder:"Confirme el n\xfamero DaviPlata",value:t.confirmNumber,onPaste:function(e){!function(e){e.preventDefault()}(e)},onChange:function(e){B({target:{name:"confirmNumber",value:Object(L.f)(e.target.value,10)}},c)},disabled:y,error:a.confirmNumber&&i.confirmNumber,labelSize:"16px",className:"mb-sm-3 mb-md-5  pr-md-2 ",fZise:"22px",type:"tel"}),r.a.createElement(C,{label:"\xbfCu\xe1nta plata quiere meter?",placeholder:"Valor",value:Object(L.i)(t.amount,"."),prefix:"$",onChange:function(e){B({target:{name:"amount",value:Object(L.f)(e.target.value,7)}},c)},disabled:y,error:a.amount&&i.amount||N.amount,labelSize:"16px pr-md-2 ",className:"mb-sm-3 mb-md-5 ",fZise:"22px"})),r.a.createElement(w,{className:"col-12 col-md-6 px-0 ",jc:"flex-start",direction:"column"},r.a.createElement(w,{flex:"1 0 auto",className:"wc ",jc:"flex-start",direction:"column"},r.a.createElement(C,{label:"\xbfCu\xe1l es su correo electr\xf3nico?",placeholder:"Correo electr\xf3nico",value:t.email,onChange:function(e){B({target:{name:"email",value:Object(L.j)(e.target.value)}},c)},disabled:y,error:a.email&&i.email||N.email,labelSize:"16px",className:"mb-sm-3 mb-md-5  pl-md-2 wc email",fZise:"22px",flex:"0 0 auto"}),r.a.createElement(C,{label:"\xbfDesde qu\xe9 banco quiere meter plata?",disabled:y,error:a.bank&&i.bank,labelSize:"16px",className:"mb-sm-3 mb-md-5 pl-md-2 wc ",flex:"0 0 auto",fZise:"22px",color:"#6c757d"},r.a.createElement(_,{value:t.bank,resource:e.global.banks,valueLock:o,renderValue:"bankCode",placeholder:"Seleccione el banco...",renderName:"bankName",onChange:function(n){B({target:{name:"bank",value:n.target.value}},c),e.global.banks.map((function(e){e.bankCode===n.target.value&&V({eventCategory:"Transaccion - Meter plata - Daviplata",eventAction:"Click",eventLabel:e.bankName,eventValue:"",event:"eventClick"})}))},disabled:y}))),r.a.createElement(w,{className:"col-12 mb-sm-3 mb-md-5  justify-content-md-end px-0 pl-md-3",style:{alignSelf:"flex-end"}},r.a.createElement(ke,null),r.a.createElement(A,{bRadius:"22px",mw:"150px",size:"lg",disabled:!(""!==F.bank&&""!==F.email&&parseInt(F.amount)>0&&parseInt(F.number)>0&&parseInt(F.confirmNumber)>0)||""===e.tokenCaptcha,type:"submit",loading:y},r.a.createElement("strong",null,"Continuar"))))))})),r.a.createElement(U,{show:""!==s||e.global.modalComision,onClose:function(){u(""),e.setGlobalData({modalComision:!1})},noBtn:""!==s,onConfirm:Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V({eventCategory:"Proceso de pago - Daviplata",eventAction:"Click",eventLabel:"Advertencia tope PSE - Aceptar",eventValue:"",event:"eventClick"}),e.next=3,M(F);case 3:case"end":return e.stop()}}),e)}))),loading:e.global.modalLoading,type:s,hideClose:!0,closeMask:!0},r.a.createElement(Z,{textLeft:!0,type:s,comision:e.global.comision,message:g})))}))),Ae=a(41);function ze(){var e=Object(l.a)(["\n    position:relative;\n    background:",";\n    height:auto;\n    width:100%;\n    padding:7px 25px;\n    \n    img{\n        height: 56px;\n        width:auto;\n    }\n    \n    @media all and (max-width:540px){\n        text-align:center;\n    }\n"]);return ze=function(){return e},e}var _e=s.a.div(ze(),(function(e){return e.bg}));var Pe=r.a.memo(Object(Ae.g)((function(e){var n=e.history.location.pathname,a="https://multimedia.epayco.co/Brand/daviplata/daviplata.png",t="https://multimedia.epayco.co/Brand/daviplata/daviplata-blanco.png",o="rojo"===e.type?y.rojo01:"transparent",i="rojo"===e.type?t:a;return"/recargaD"===n||"/responseD"===n||"/pagar"===n||"/pagar/respuesta"===n?" ":r.a.createElement(_e,{bg:o,className:e.className},r.a.createElement("div",{className:"col-12 col-xl-11 mx-auto text-md-left text-center"},r.a.createElement("img",{src:i,alt:""})))})));function Te(){var e=Object(l.a)(["\n    position:fixed;\n    top:0;\n    left:0;\n    z-index:99;\n    width:100%;\n    height:100%; \n    background:",";\n   \n    .loadC{\n        width: 100px;\n        height: 100px;\n        border-radius:50%;\n        border: 8px solid transparent;\n        border-color: "," "," "," "," ;\n        animation: girar 1s cubic-bezier(0.075, 0.820, 0.165, 1.000) infinite;\n        \n        @media all and (max-width:768px){\n            width: 50px;\n            height: 50px;\n            border: 4px solid transparent;\n            border-color: "," "," "," ",";\n        }\n    }\n"]);return Te=function(){return e},e}var Re=Object(s.a)(w)(Te(),(function(e){return e.bg}),(function(e){return e.loadLine}),(function(e){return e.loadLine}),(function(e){return e.loadLine}),y.rojo01,(function(e){return e.loadLine}),(function(e){return e.loadLine}),(function(e){return e.loadLine}),y.rojo01);var Fe=Object(R.b)((function(e){return{global:e.global}}))(r.a.memo((function(e){return r.a.createElement(r.a.Fragment,null,e.only?r.a.createElement(Re,{direction:"column",bg:e.noBg?"transparent":"rgba(0,0,0,.5)",loadLine:e.dark?"rgba(0,0,0,.2)":"white"},r.a.createElement("div",{className:"loadC"})):r.a.createElement(q.a,{in:e.global.loading,timeout:600,classNames:"fade",unmountOnExit:!0},r.a.createElement(Re,{direction:"column",loadLine:e.dark?"rgba(0,0,0,.2)":"white"},r.a.createElement("div",{className:"loadC"}))))})));var Le=r.a.memo((function(e){var n=e.children,a=Object(t.useState)(!1),o=Object(c.a)(a,2),i=o[0],l=o[1];return Object(t.useEffect)((function(){l(!0)}),[]),r.a.createElement(q.a,{in:i,timeout:600,classNames:"fadeUp",unmountOnExit:!0},n)}));function Ie(){var e=Object(l.a)(["\n    position:relative;\n    width:100%;\n    min-height:100vh;\n   \n   .container{\n        flex: 1 0 70%;\n        justify-content:center;\n        padding:0 20px 15px;\n       \n        @media all and (max-height:400px) && (max-width:767px) {\n            justify-content:flex-start;\n        } \n   }\n\n"]);return Ie=function(){return e},e}var Me=Object(s.a)(w)(Ie());var Be=Object(R.b)((function(e){return{global:e.global}}))(r.a.memo((function(e){return r.a.createElement(Me,{direction:"column",jc:"flex-start"},r.a.createElement(Pe,{type:"rojo"}),e.global.loading?r.a.createElement(Fe,{noBg:!0,only:!0,dark:!0}):r.a.createElement(w,{className:"container",direction:"column"},r.a.createElement(d,{className:"text-center"},r.a.createElement("span",{className:"ct"},"Meter Plata")," a DaviPlata"),r.a.createElement(Le,null,r.a.createElement(Se,null))))})));function Ve(){var e=Object(l.a)(['\n    position:relative;\n    width:100%;\n    min-height:100%;\n    background:#d1d1d1;\n    background: linear-gradient(rgba(232, 233, 237, 0.96), rgba(232, 233, 237, 0.96)), \n    url("/img/fondo_pagar.png"), none, none;\n    hr{\n        margin-top: 1rem;\n        margin-bottom: 1rem;\n        border: 0;\n        border-top: 0.1px solid ',";\n    };\n   \n    background-position: center; \n    background-size: cover;\n    \n    .contHeader{\n        width:100%;\n        \n        @media all and (min-width:900px){\n            margin:auto;\n            margin-bottom:-20px;\n            max-width:1280px; \n        }\n        \n         @media all and (min-width:768px){\n            padding:24px 24px 0;\n        }\n         \n         @media all and (min-width: 300px){\n            padding:24px 24px 0;\n        }\n    }\n    \n    .card{\n        max-width:560px;\n        margin:auto;\n        padding: 20px;\n        border-radius:10px;\n        padding-bottom:40px;\n        \n        @media all and (min-width: 540px){\n            padding: 40px;\n            padding-bottom:50px;\n        }\n    }\n    \n    .action{\n        position:absolute;\n        bottom:0;\n        left:0;\n        transform:translateY(20px);\n    }\n    \n    .title{\n        margin-bottom:30px;\n        font-size:22px;\n        font-weight:bold;\n        text-align:left;\n        width:100%;\n        \n        @media all and (max-width:500px){\n            font-size:18px;\n            line-height:1.3em;\n        }\n    }\n    \n     .title2{\n        margin-bottom:30px;\n        font-size:30px;\n        font-weight:bold;\n        \n        @media all and (max-width:500px){\n            font-size:22px;\n        }\n    }\n    \n    .label-text{\n        font-size: 16px;\n        color: #343537;\n        font-weight: 500;\n        text-align: left;\n        width: 100%;\n        font-family: Roboto;\n        margin-bottom: 3px;\n    }\n    \n    .text-label{\n        font-size: 16px;\n        -webkit-flex: 10 0 70%;\n        -ms-flex: 10 0 70%;\n        flex: 10 0 70%;\n        background-color: transparent;\n        color: #000000;\n        cursor: not-allowed;\n        border-radius: 0;\n        margin-top: none;\n        width: 100%;\n        border: none;\n        font-weight: 300;\n        font-family: Roboto;\n        text-align: left;\n        margin-top: 2px;\n    }\n    \n"]);return Ve=function(){return e},e}var qe=s.a.div(Ve(),y.grey01);function Ye(){var e=Object(l.a)(["\n    position:relative;\n    padding: 20px;\n    \n    .action{\n        position:absolute;\n        bottom:0;\n        left:0;\n        width:100%;\n        transform:translateY(17px);\n    }\n    \n    .texto{\n        padding:15px 0 20px;\n        margin:auto;\n        \n        @media all and (min-width:768px){\n            font-size:24px;\n        }\n    }\n"]);return Ye=function(){return e},e}var Ge=s.a.div(Ye());var He=r.a.memo((function(e){var n=e.continuar,a=e.cancelar,t=e.message;return r.a.createElement(Ge,null,r.a.createElement("div",{className:"texto text-center "},t),r.a.createElement(w,{className:"action text-center",jc:"apace-around"},a&&r.a.createElement(A,{btntype:"line",onClick:a,className:"md mx-auto",mw:"144px",bRadius:"22px",size:"md"},"Cancelar"),r.a.createElement(A,{onClick:n,className:"md mx-auto",mw:"144px",bRadius:"22px",size:"md"},"Aceptar")))}));function We(){var e=Object(l.a)(["\n        margin-bottom:30px;\n        font-size:30px;\n        font-weight:bold;\n        width:100%;\n        text-align:center;\n        @media all and (max-width: 425px){\n          display: none;\n          font-size:20px;\n          line-height:1.3em;\n        }\n"]);return We=function(){return e},e}var Ue=s.a.div(We());var $e={setGlobalData:F},Ke=Object(R.b)((function(e){return{global:e.global}}),$e)(r.a.memo((function(e){var n=window.innerWidth<768,a=P.c().shape({receptor:P.e().required(L.h.receptor),correo:P.e().email(L.h.email).required("required"),monto:P.b().max(5e6,L.h.max).required("required"),banco:P.e().min(4,L.h.bank).required("required")}),o=Object(t.useState)(L.b),i=Object(c.a)(o,1)[0],l=Object(t.useState)({status:!1,message:""}),s=Object(c.a)(l,2),u=s[0],m=s[1],d=Object(t.useState)(!1),g=Object(c.a)(d,2),v=g[0],h=g[1],E=Object(t.useState)(!0),y=Object(c.a)(E,2),j=y[0],O=y[1],k=Object(t.useState)({daviplata:"",terminal:!1,terminalNotFound:!1}),N=Object(c.a)(k,2),D=N[0],S=N[1],z=Object(t.useState)({correo:"",receptor:"",monto:"",banco:""}),R=Object(c.a)(z,2),F=R[0],I=R[1],M=Object(t.useState)({correo:!1,receptor:!1,monto:!1}),B=Object(c.a)(M,2),V=B[0],q=B[1],Y=function(e){S(Object(f.a)({},D,{},e))},G=function(){var e=Object(x.a)(b.a.mark((function e(n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge({daviplata:D.terminal?D.daviplata:n.receptor,value:n.monto.toString(),bank:n.banco.toString(),email:n.correo.toString(),invoice:D.terminal?D.invoiceId:""},"pagar");case 2:(a=e.sent).status?window.location.assign(a.url):(m({status:!0,message:a.message}),h(!1));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),H=function(){var e=Object(x.a)(b.a.mark((function e(){var n,a,t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.location.search,me("dominioRecaudo",a="https://pagardaviplata.epayco.me"),t=new URLSearchParams(n).get("terminal"),e.next=6,xe();case 6:return e.next=8,fe(a);case 8:if(r=e.sent,t&&r)try{J()({data:{terminal:t},url:"https://secure.payco.co/recaudo/api/apify/link/paymentpse/show",method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)}}).then((function(e){if(O(!1),200===e.status&&e.data.success){var n=e.data.data,a=n.cellPhone,t=n.client,r=n.clientId,o=n.docNumber,i=n.docType,c=n.emailPayment,l=n.invoiceId,s=n.lastName,u=n.name,m=n.product,d=n.totalPayment,p=n.urlResponse,g=n.cellPhoneDaviplata;Y({terminal:!0,daviplata:g,invoiceId:l}),me("paymentData",{cellPhone:a,client:t,clientId:r,docNumber:o,docType:i,emailPayment:c,invoiceId:l,lastName:s,name:u,product:m,totalPayment:d,urlResponse:p,cellPhoneDaviplata:g}),I(Object(f.a)({},F,{correo:c,receptor:t,monto:d})),q({correo:!!c,receptor:!!t,monto:!!d})}else Y({terminalNotFound:"Link no valido"})})).catch((function(e){Y({terminal:!0}),O(!1),ve("ERROR: no se pudo consultar la terminal. "+e.message)}))}catch(o){O(!1),ve("ERROR: no se pudo consultar la terminal. "+o.message)}else O(!1),ve("Error no se logro obtener la terminal o el token es invalido, por favor recargar la p\xe1gina para volver a consultar.");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=e.target,t=a.name,r=a.value,o=r;"monto"!=t&&"confirmNumber"!=t&&"amount"!=t&&"banco"!=t||(o=parseInt(o)||""),n([t],o),I(Object(f.a)({},F,Object(p.a)({},t,o)))};return Object(t.useEffect)((function(){H()}),[]),r.a.createElement(qe,{className:"text-center"},r.a.createElement("div",{className:"contHeader mb-2 mb-lg-0"},r.a.createElement(Pe,null)),e.global.loading?r.a.createElement(Fe,{noBg:!0,only:!0}):r.a.createElement(r.a.Fragment,null,j?r.a.createElement(Fe,{noBg:!0,only:!0}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue,null,"Informaci\xf3n de pago"),r.a.createElement(Le,null,r.a.createElement("div",{className:"wc px-2 px-sm-3  pb-5"},r.a.createElement("div",{className:"card"},D.terminalNotFound?r.a.createElement("p",{className:"title"},D.terminalNotFound):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"title"}," Complete la informaci\xf3n para pagar "),r.a.createElement(T.a,{enableReinitialize:!0,initialValues:Object(f.a)({},F),validationSchema:a,onSubmit:function(){var e=Object(x.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(L.a)("Proceso de pago - Daviplata","Informaci\xf3n del Pago - Continuar"),h(!0),e.next=4,G(n);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},(function(a){var t=a.errors,o=a.touched,c=a.setFieldValue,l=a.handleSubmit,s=a.values;return r.a.createElement("form",{onSubmit:function(e){if(Object.keys(t).length>0){var n=t.receptor||t.monto||t.banco||"Los datos ingresados son incorrectos";m({status:!0,message:n})}e.preventDefault(),l()}},r.a.createElement("div",null,r.a.createElement("label",{className:"label-text"},"\xbfA qui\xe9n le va a pagar?"),r.a.createElement("div",{className:"text-label"},s.receptor)),r.a.createElement("hr",{style:{color:"rgba(0, 0, 0, 10%)"}}),r.a.createElement(C,{line:!0,labelSize:"16px",label:"\xbfCuanta plata va a pagar?",onChange:function(e){W({target:{name:"monto",value:Object(L.f)(e.target.value,7)}},c)},value:Object(L.i)(s.monto,"."),disabled:v||V.monto,before:!0,error:t.monto&&o.monto&&t.monto,font:"Roboto",className:"mb-4",weight:"500",type:"tel"}),r.a.createElement(C,{line:!0,labelSize:"16px",label:"\xbfCual es su correo electr\xf3nico?",onChange:function(e){W({target:{name:"correo",value:Object(L.j)(e.target.value)}},c)},value:s.correo,error:t.correo&&o.correo&&t.correo,disabled:v||V.correo,font:"Roboto",className:"mb-4 ".concat(""!==F.correo?"dn":""),weight:"500"}),r.a.createElement(C,{line:!0,labelSize:"16px",label:"\xbfDesde qu\xe9 banco va a pagar?",disabled:v,error:t.banco&&o.banco&&t.banco,font:"Roboto",className:"mb-2 pagar",weight:"500"},r.a.createElement(_,{value:s.banco,resource:e.global.banks,valueLock:i,renderValue:"bankCode",placeholder:"Seleccione el banco...",renderName:"bankName",onChange:function(e){W({target:{name:"banco",value:Object(L.j)(e.target.value)}},c)},disabled:v})),r.a.createElement(w,{className:"action"},r.a.createElement(A,{type:"submit",bRadius:"22px",size:n?"md":"lg",mw:"160px",loading:v,disabled:!Object.values(F).every((function(e){return""!==e}))||v},"Continuar")))})))))))),r.a.createElement(U,{show:u.status,noBtn:!0,cancel:!1,hideClose:!0},r.a.createElement(He,{continuar:function(){m({status:!1,message:""}),Object(L.a)("Proceso de pago - Daviplata","Advertencia tope PSE - Aceptar")},message:u.message})))}))),Ze=a(99),Xe=a.n(Ze),Je=a(26),Qe=a(109),en=a.n(Qe),nn=a(282),an=a.n(nn),tn=a(283),rn=a.n(tn);function on(){var e=Object(l.a)(["\n    width:100%;\n    display:flex;\n    flex-flow:"," wrap;\n    justify-content: ",";\n    align-items:center;\n    flex:",";\n    align-content:flex-start;\n"]);return on=function(){return e},e}function cn(){var e=Object(l.a)(["\n    padding:10pt 40pt 20pt;\n    width:100%;\n    margin:auto;\n    height:100%;\n    font-family: 'rRegular';\n    justify-content:flex-start;\n"]);return cn=function(){return e},e}var ln=en.a.View(cn()),sn=en.a.View(on(),(function(e){return e.direction?e.direction:"row"}),(function(e){return e.jc}),(function(e){return e.flex})),un=function(e){switch(e){case"WP":return"P\xe1gina Web DaviPlata";case"WAPP":return"Web App DaviPlata";case"APP":return"App DaviPlata";default:return e}},mn=Je.StyleSheet.create({page:{flexDirection:"row"},image:{flex:"0 0 300px",width:"20%"},viewLogo:{flex:"0 0 50",width:"181px",height:"92px",position:"relative",overflow:"hidden"},logoDaviplata:{width:"181px",height:"92px",position:"absolute",left:"-35px",bottom:"15px"},title:{textAlign:"center",fontSize:"16pt",padding:"20pt 0 10pt"},titleR:{textAlign:"center",color:y.rojo01,padding:"20pt 0 10pt"},tabla:{borderTop:"2pt solid ".concat(y.rojo01),borderBottom:"2pt solid ".concat(y.rojo01),padding:"10px 0"},itemNV:{fontSize:"12pt",padding:"5pt 0"},itemHijos:{fontWeight:"bold"},textFooter:{fontSize:"7pt",textAlign:"center"},vigilado:{position:"absolute",left:"15pt",bottom:"100pt",width:"50pt"},VigiladoImg:{width:"15pt",height:"auto"},bold:{fontFamily:"rBold"},small:{fontSize:"12pt"},textRight:{position:"absolute",right:"-50pt",top:"100pt",transform:"rotate(-90deg)",fontSize:"8pt"}});Je.Font.register({family:"rBold",src:an.a}),Je.Font.register({family:"rRegular",src:rn.a});var dn=function(e){var n=e.name,a=e.value;return r.a.createElement(sn,{jc:"center",flex:"1 0 auto",style:mn.itemNV},r.a.createElement(sn,{jc:"flex-start",flex:"1 0 200px",style:mn.bold},r.a.createElement(Je.Text,null,n)),r.a.createElement(sn,{jc:"flex-end",flex:"1 0 100px"},r.a.createElement(Je.Text,null,a)))},pn=function(e){var n=e.monto,a=e.numero,t=(e.referencia,e.fecha),o=e.costo,i=e.transaccion,c=e.cus,l=(e.motivo,e.nAprovacion),s=e.direcionIp;e.docNumber,e.docType;return r.a.createElement(Je.Document,null,r.a.createElement(Je.Page,{size:"A4"},r.a.createElement(ln,null,r.a.createElement(sn,{flex:"0 0 50px",jc:"space-between"},r.a.createElement(Je.View,{style:mn.viewLogo},r.a.createElement(Je.Image,{style:mn.logoDaviplata,src:"".concat("https://multimedia.epayco.co","/PDF/daviplata.png")}))),r.a.createElement(sn,{jc:"flex-end",flex:"0 0 50px"},r.a.createElement(Je.Text,{style:mn.small},"Fecha transacci\xf3n: ",t)),r.a.createElement(sn,{flex:"0 0 40px",style:mn.bold},r.a.createElement(Je.Text,{style:mn.titleR},"RECARGAS PSE")),r.a.createElement(sn,{jc:"flex-start",direction:"column"},r.a.createElement(sn,{style:mn.tabla,flex:"0 0 auto"},r.a.createElement(dn,{name:"Resultado de la transacci\xf3n:",value:i}),r.a.createElement(dn,{name:"C\xf3digo \xfanico CUS:",value:c}),r.a.createElement(dn,{name:"Producto destino:",value:a}),r.a.createElement(dn,{name:"Canal",value:un(de("canal"))}),r.a.createElement(dn,{name:"No. aprobaci\xf3n",value:l}),r.a.createElement(dn,{name:"Direcci\xf3n IP:",value:s}),r.a.createElement(dn,{name:"Valor transacci\xf3n:",value:n}),r.a.createElement(dn,{name:"Costo transacci\xf3n:",value:o}))),r.a.createElement(sn,{flex:"0 0 auto"},r.a.createElement(Je.Text,{style:mn.textFooter},"DaviPlata es un dep\xf3sito de dinero electr\xf3nico amparado por el seguro de dep\xf3sito Fogafin. Consulte condiciones, reglamento, tarifas y m\xe1s informaci\xf3n en: www.daviplata.com. Para cualquier diferencia con el saldo, comun\xedquese a trav\xe9s del bot\xf3n \xbfNecesita Ayuda? de la aplicaci\xf3n o al #688 . Si requiere, puede comunicarse con nuestro Defensor del Consumidor Financiero: Carlos Mario Serna, Calle 72 No. 6-30, piso 18, Bogot\xe1, tel\xe9fono 609-2013, fax 482-9715, correo electr\xf3nico: defensordelcliente@davivienda.com."),r.a.createElement(Je.Text,{style:mn.textFooter},"Revisoria fiscal: KPMG Ltda. Apartado 77859,Bogot\xe1")),r.a.createElement(Je.View,{style:mn.vigilado},r.a.createElement(Je.Image,{src:"".concat("https://multimedia.epayco.co","/PDF/vigilado.png"),style:mn.VigiladoImg})),r.a.createElement(Je.View,{style:mn.textRight},r.a.createElement(Je.Text,null,"Banco Davivienda S.A. NIT. 860.034.313-7")))))};function fn(){var e=Object(l.a)(["\n    position:relative;\n    font-weight:700;\n    color:black;\n    \n    .value{\n        color:",";\n        text-align:right;\n    }\n    \n    \n    @media all and (min-width:998px){\n        font-size:24px;      \n    }\n   \n"]);return fn=function(){return e},e}function gn(){var e=Object(l.a)(["\n    position:relative;\n    flex:1 0 60%;\n    width:100%;\n    \n    .ancho{\n        max-width:636px;\n        border-radius:20px;\n        background:white;\n        padding:40px 32px;\n        \n        .download{\n            background:transparent;\n            font-size:22px;\n            \n            i{\n                color:",";\n            }\n        }\n        \n        @media all and (max-width:768px){\n            background:transparent;\n            padding:5px;\n            \n             .download{\n                font-size:16px;\n             }\n        }\n    }  \n    \n \n"]);return gn=function(){return e},e}var bn=Object(s.a)(w)(gn(),y.rojo01),xn=Object(s.a)(w)(fn(),(function(e){return e.color})),vn=function(e){var n=e.name,a=e.value,t=e.color,o=e.className;return r.a.createElement(xn,{className:"wc mb-2 ".concat(o),color:"undefined"!==typeof t&&"string"!==typeof t?y.rojo01:"string"==typeof t?t:y.black03},r.a.createElement(w,{className:"name  col-7 pl-0",jc:"flex-start"},n),r.a.createElement(w,{className:"value col-5 p-0",jc:"flex-start"},a))};var hn=Object(Ae.g)(r.a.memo((function(e){var n=e.trx,a=e.history,o=n.amount,i=n.cus,l=n.ip,s=n.date,u=n.refPayco,m=n.state,p=n.trxId,f=n.comision,g=n.number,b=n.docType,x=n.docNumber,v=window.innerWidth<768,h=Object(t.useState)({text:""}),E=Object(c.a)(h,2),y=(E[0],E[1],window.navigator,"Comprobande de pago/recarga de daviplata, fecha  ".concat(Xe()().format("DD/MM/YYYY")),Object(we.a)().sendDataToGTM);return r.a.createElement(bn,{className:"wc",direction:"column"},r.a.createElement(w,{className:"col-12 col-sm-11 col-xl-10 mx-auto  px-0 ",alg:"flex-end"},r.a.createElement("div",{className:"col-12 col-md-7 col-lg-7 px-xl-none "},r.a.createElement(d,null,"Transacci\xf3n ","Aceptada"===m?"exitosa":m.toLowerCase()),r.a.createElement(Le,null,r.a.createElement("div",{className:"ancho"},r.a.createElement(vn,{value:"$"+Object(L.i)(o.toString(),"."),name:"\xbfCu\xe1nta plata meti\xf3?",color:!0}),r.a.createElement(vn,{value:g,name:"N\xfamero DaviPlata",color:"#2F303275"}),r.a.createElement(vn,{value:u,name:"Referencia",color:"#2F303275"}),r.a.createElement(vn,{value:Xe()(s).format("DD/MM/YYYY - HH:mm"),name:"Fecha transacci\xf3n",color:"#2F303275"}),r.a.createElement(vn,{value:"$"+f,name:"Costo de la transacci\xf3n",color:"#2F303275"}),r.a.createElement(w,{className:"wc pt-4"},"Pendiente"!==m&&r.a.createElement("div",{className:"wc col-6 px-0 position-relative"},r.a.createElement(Je.PDFDownloadLink,{document:r.a.createElement(pn,{monto:"$ "+Object(L.i)(o.toString(),"."),numero:"Daviplata "+g,referencia:u,fecha:Xe()(s).format("DD/MM/YYYY - HH:mm:ss"),costo:"$ "+f,transaccion:m,cus:i,motivo:"Recarga PSE",nAprovacion:p,direcionIp:l,docType:b,docNumber:x}),fileName:"DAV_Comprobante_RecargaPSE.pdf"},(function(e){e.blob,e.url;var n=e.loading;e.error;return n?r.a.createElement("div",{className:"py-3 "},r.a.createElement("b",null,"Cargando documento...")):r.a.createElement("button",{className:"py-2 text-left text-lg-left col-12 download px-0"},r.a.createElement("i",{className:"icon-download mr-1"}," "),"Descargar")}))),r.a.createElement(w,{className:"col-6 py-4 py-lg-0 justify-content-md-end",flex:"1 0 150px"},r.a.createElement(A,{bRadius:"22px",mw:"144px",size:v?"md":"lg",onClick:function(){pe(),a.push("/meter-plata"),"Aceptada"===n.state&&y({eventCategory:"Transaccion - Meter plata - Daviplata",eventAction:"Click",eventLabel:"Exitosa - Finalizar",eventValue:"",event:"eventClick"})}}," Finalizar ")))))),r.a.createElement("div",{className:"col-md-5 col-lg-5 d-none d-md-flex text-right px-0"},r.a.createElement("img",{src:"/img/imagen_resultado.png",alt:"",className:"imgr ml-auto mr-0"}))))})));function En(){var e=Object(l.a)(["\n    position:relative;\n    flex:1 0 50%;\n    justify-content:flex-start;\n    \n    .icon{\n        margin-top:15px;\n        line-height:30px;\n        font-size:35px;\n        color:",";\n    }\n        \n    .ct{\n        font-size:30px;\n        \n        @media all and (max-width:768px){\n            font-size:16px;\n        }\n    }\n    \n    @media all and (min-height:600px) && (min-width:768px){\n        justify-content:center;\n    } \n"]);return En=function(){return e},e}var wn=Object(s.a)(w)(En(),y.rojo01);var yn=Object(Ae.g)(r.a.memo((function(e){var n=Object(we.a)().sendDataToGTM;return r.a.createElement(wn,{className:"col-12 col-sm-10  mx-auto px-0"},r.a.createElement(w,{className:"wc  pt-5 ",alg:"flex-start"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement(w,{flex:"1 0 100%",alg:"flex-start"},r.a.createElement(w,{className:"icon ",flex:"0 0 30px"},r.a.createElement("i",{className:"icon-cancel-circle"}," ")),r.a.createElement(w,{flex:"1 0 70%",jc:"flex-start",className:" pl-3 pl-md-4"},r.a.createElement(d,{margin:"0"},"Transacci\xf3n ","Aceptada"===e.title?"exitosa":e.title),r.a.createElement("b",{className:"ct"},e.message))),r.a.createElement(w,{className:"pt-4 ",jc:"flex-end"},r.a.createElement(Le,null,r.a.createElement(A,{mw:"144px",size:"md",bRadius:"22px",onClick:function(){e.history.push("/meter-plata"),n({eventCategory:"Transaccion - Meter plata - Daviplata",eventAction:"Click",eventLabel:"Rechazada - Finalizar",eventValue:"",event:"eventClick"})}},"Finalizar")))),r.a.createElement("div",{className:"col-12 col-md-6 text-center d-none d-md-block"},r.a.createElement("img",{src:"/img/celu.png",alt:"",className:" mx-auto"}))))})));function jn(){var e=Object(l.a)(["\n    position:relative;\n    min-height:100vh;\n    background:#f1f1f1;\n"]);return jn=function(){return e},e}var On=Object(s.a)(w)(jn());var kn=r.a.memo((function(){var e=Object(t.useState)({loading:!0}),n=Object(c.a)(e,2),a=n[0],o=n[1],i="db6137dbf3ed0ccdae81f0041b618d56",l=function(){var e=Object(x.a)(b.a.mark((function e(){var n,a,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=de("transactionID"),e.next=3,fe(de("dominioRecaudo"));case 3:a=e.sent,t={transactionID:n},J()({data:t,url:" ".concat("https://secure.payco.co/recaudo","/api/apify/payment/pse/transaction"),method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){var n=e.data.data,a=n.documento,t=n.tipo_doc;s(a,t)})).catch((function(e){s()}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CC",t={status:Object(P.a)(),data:{},message:""},r=de("refPayco"),c="https://secure.payco.co/restpagos/transaction/response.json?public_key="+i+"&ref_payco="+r;J.a.get(c).then((function(r){if(200===r.status&&r.data.success){var i=r.data.data;o(Object(f.a)({},a,{amount:i.x_amount,cus:i.x_approval_code,bank:i.x_bank_name,hola:i.x_cod_transaction_state,currency:i.x_currency_code,idClient:i.x_cust_id_cliente,ip:i.x_customer_ip,description:i.x_description,date:i.x_fecha_transaccion,franchise:i.x_franchise,refPayco:i.x_ref_payco,state:i.x_response,trxId:i.x_transaction_id,comision:de("commission")||0,number:de("daviplata"),loading:!1,fallida:"Fallida"===i.x_response||"Rechazada"===i.x_response||"Abandonada"===i.x_response,pendiente:"Pendiente"===i.x_response,docType:n,docNumber:e}))}else t.status=!0,o(Object(f.a)({},a,{fallida:!0,loading:!1,pendiente:!1}))})).catch((function(e){o(Object(f.a)({},a,{fallida:!0,loading:!1,pendiente:!1}))}))};return Object(t.useEffect)((function(){l()}),[]),r.a.createElement(On,{direction:"column"},r.a.createElement(Pe,{type:"rojo"}),r.a.createElement(w,{className:"wc ",flex:"1 0 auto",direction:"column"},a.loading?null:r.a.createElement(r.a.Fragment,null,a.fallida?r.a.createElement(yn,{title:"rechazada",message:"Intente nuevamente"}):a.pendiente?r.a.createElement(yn,{title:"pendiente",message:"Estamos evaluando su solicitud."}):r.a.createElement(hn,{trx:a}))))}));function Nn(){var e=Object(l.a)(["\n    position:relative;\n    min-height:100%;\n    height:auto;\n    background:url('/img/Background-01.svg');\n   \n    background-position: center; \n    background-size: cover;\n    \n    \n    input, select{\n        border-bottom:1px solid ","!important;\n    }\n    \n    header{\n        background:",";\n        color:white;\n        width:100%;\n        flex:0 0 45px;\n        font-size:20px;\n        font-weight:300;  \n        padding:10px;  \n    }\n    \n    .title{\n        font-weight:bold;\n        font-size:18px;\n        line-height:24px;\n        margin-bottom:20px;\n    }\n    \n    .content{\n        flex:0 0 auto;\n        padding:15px 8px;\n        padding-bottom:40px;\n        overflow:hidden auto;\n    }\n    \n    .card{\n        border-radius : 10px;\n        padding       : 21px;\n        width         : 100%;\n        max-width     : 540px;\n     \n        @media all and (min-width:500px){\n            padding: 20px 40px;\n        }\n\n    }\n    \n     @media all and (min-height:720px){\n            justify-content:center!important;\n     }\n    \n    .action{\n        margin-top: 20px;\n    }\n"]);return Nn=function(){return e},e}var Cn=Object(s.a)(w)(Nn(),y.rojo01,y.rojo01);var Dn={setGlobalData:F},Sn=Object(R.b)((function(e){return{tokenCaptcha:e.global.tokenCaptcha,global:e.global}}),Dn)(r.a.memo((function(e){var n=Object(t.useState)(L.d),a=Object(c.a)(n,2),o=a[0],i=(a[1],Object(t.useState)(!1)),l=Object(c.a)(i,2),s=l[0],u=l[1],m=Object(t.useState)({number:"",amount:""}),d=Object(c.a)(m,2),g=d[0],v=d[1],h=Object(t.useState)({number:"",confirmNumber:"",amount:"",bank:""}),E=Object(c.a)(h,2),y=E[0],j=E[1],O=P.c({number:P.e().min(10,L.h.phone).required("error"),confirmNumber:P.e().min(10,L.h.phone).oneOf([P.d("number"),null],L.h.confirm).required("error"),amount:P.b().min(1e4,L.h.min).max(5e6,L.h.max).required("error"),bank:P.e().min(4,L.h.bank).required("error")}),k=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=e.target,t=a.name,r=a.value,o=r;"number"!=t&&"confirmNumber"!=t&&"amount"!=t&&"bank"!=t||(o=parseInt(o)||""),n([t],o),j(Object(f.a)({},y,Object(p.a)({},t,o)))};Object(t.useEffect)((function(){me("confirm","false");var e=window.location.search,n=new URLSearchParams(e).get("recharge");n&&""!=n||window.location.replace("/meter-plata")}),[]);var N=Object(we.a)().sendDataToGTM;return r.a.createElement(Cn,{direction:"column"},e.global.loading?r.a.createElement(Fe,{only:!0,noBg:!0}):r.a.createElement(Le,null,r.a.createElement(w,{className:"content"},r.a.createElement("div",{className:"card ",style:{margin:"0 12px"}},r.a.createElement("div",{className:"title"},"Complete los datos para meter plata a DaviPlata"),r.a.createElement(T.a,{initialValues:{number:"",confirmNumber:"",amount:"",bank:""},validationSchema:O,onSubmit:function(){var n=Object(x.a)(b.a.mark((function n(a){var t,r,o,i;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return N({eventCategory:"Proceso de pago - Daviplata",eventAction:"Click",eventLabel:"Informaci\xf3n del Pago - Continuar",eventValue:"",event:"eventClick"}),t=window.location.search,r=new URLSearchParams(t).get("recharge"),y.idRequest=r,u(!0),n.next=7,he("1053",a.amount);case 7:if(!(o=n.sent).status){n.next=15;break}return n.next=11,be({daviplata:y.number.toString(),value:y.amount.toString(),bank:y.bank.toString(),idRequest:r},"recargaD",e.tokenCaptcha);case 11:(i=n.sent).status?window.location.assign(i.url):(u(!0),ve(i.message)),n.next=17;break;case 15:u(!1),"monto"===o.typeError&&(ve("DaviPlata excede tope."),v(Object(f.a)({},g,{amount:"Monto no permitido."})));case 17:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},(function(n){var a=n.errors,t=n.values,i=n.touched,c=n.setFieldValue,l=n.handleSubmit;return r.a.createElement("form",{className:"wc",onSubmit:function(e){if(Object.keys(a).length>0){var n=a.number||a.confirmNumber||a.amount||a.bank||"Los datos ingresados son incorrectos";ve(n)}e.preventDefault(),l()}},r.a.createElement(C,{line:!0,font:"Roboto",label:"\xbfA qu\xe9 n\xfamero quiere meter plata?",placeholder:"N\xfamero celular",value:t.number,onChange:function(e){k({target:{name:"number",value:Object(L.f)(e.target.value,10)}},c)},error:a.number&&i.number||g.number,labelSize:"16px",className:"mb-4",type:"tel",inputHeight:"22px",marginTop:"2%",disabled:s}),r.a.createElement(C,{line:!0,font:"Roboto",label:"Confirme el n\xfamero DaviPlata",placeholder:"Confirme n\xfamero DaviPlata",value:t.confirmNumber,onPaste:function(e){!function(e){e.preventDefault()}(e)},onChange:function(e){k({target:{name:"confirmNumber",value:Object(L.f)(e.target.value,10)}},c)},error:a.confirmNumber&&i.confirmNumber,labelSize:"16px",className:"mb-4",type:"tel",inputHeight:"22px",marginTop:"2%",disabled:s}),r.a.createElement(C,{line:!0,font:"Roboto",label:"\xbfCu\xe1nta plata quiere meter?",placeholder:"Valor",value:Object(L.i)(t.amount,"."),onChange:function(e){k({target:{name:"amount",value:Object(L.f)(e.target.value,7)}},c)},error:a.amount&&i.amount||g.amount,labelSize:"16px",className:"mb-4",before:!0,type:"tel",inputHeight:"22px",marginTop:"2%",disabled:s}),r.a.createElement(C,{type:"tel",line:!0,font:"Roboto",label:"\xbfDe qu\xe9 banco quiere meter plata?",error:a.bank&&i.bank,labelSize:"16px",className:"mb-0",inputHeight:"22px",marginTop:"2%",disabled:s,color:"#6c757d"},r.a.createElement(_,{value:t.bank,resource:e.global.banks,valueLock:o,renderValue:"bankCode",placeholder:"Seleccione el banco...",renderName:"bankName",onChange:function(n){k({target:{name:"bank",value:n.target.value}},c),e.global.banks.map((function(e){e.bankCode===n.target.value&&N({eventCategory:"Transaccion - Meter plata - Daviplata",eventAction:"Click",eventLabel:e.bankName,eventValue:"",event:"eventClick"})}))},disabled:s})),r.a.createElement(ke,{className:"mb-0"}),r.a.createElement(w,{className:"action"},r.a.createElement(A,{bRadius:"22px",mw:"160px",size:"md",disabled:!(""!==y.bank&&parseInt(y.amount)>0&&parseInt(y.number)>0&&parseInt(y.confirmNumber)>0)||""===e.tokenCaptcha,className:"mr-2",type:"submit",loading:s},"Continuar")))}))),r.a.createElement(U,{show:e.global.modalComision,onClose:function(){return e.setGlobalData({modalComision:!1})},onConfirm:Object(x.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return N({eventCategory:"Proceso de pago - Daviplata",eventAction:"Click",eventLabel:"Advertencia tope PSE - Aceptar",eventValue:"",event:"eventClick"}),n.next=3,Ee(y,"recargaD",!1,e.tokenCaptcha);case 3:case"end":return n.stop()}}),n)}))),MW:"400px",hideClose:!0,loading:e.global.modalLoading},r.a.createElement("div",{className:"wc py-4 mb-3 px-3"},r.a.createElement("p",{className:"fr w300 text-center d-block mb-0"},"Esta transacci\xf3n tiene un costo de ",r.a.createElement("b",null,"$",Object(L.i)(e.global.comision,".")," ")," ",r.a.createElement("br",null),"\xbfDesea continuar?"))))))})));function An(){var e=Object(l.a)(["\n    width:",";\n    background:transparent;\n    cursor:pointer;\n    color:black;\n"]);return An=function(){return e},e}function zn(){var e=Object(l.a)(["\n    position:absolute;\n    width:100%;\n    left:0;\n    bottom:0;\n    transform:translateY(",")\n"]);return zn=function(){return e},e}function _n(){var e=Object(l.a)(["\n\n        padding: 0;\n        font-size:20px;\n        font-weight:bold;\n        color:",";\n            \n            i{\n                font-size:28px;\n            }\n       \n        .subtext{\n            font-weight:300;\n            font-size:16px;\n            width:100%;\n            color:",";\n            text-align:left;\n        }\n"]);return _n=function(){return e},e}function Pn(){var e=Object(l.a)(["\n   padding: 10px 0;\n   font-family:'Roboto';\n \n   p{\n    font-weight:300;\n   }\n"]);return Pn=function(){return e},e}function Tn(){var e=Object(l.a)(["\n    position:relative;\n    min-height:100%;\n    background:rgba(1,1,1,1);\n    \n    .row {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap;\n      width: 100%;\n    }\n    \n    .column {\n      display: flex;\n      flex-direction: column;\n      flex-basis: 100%;\n      flex: 1;\n      align-items:center\n    }    \n    \n       \n    .title{\n        padding: 0 25px 15px;\n        font-size:20px;\n        font-weight:bold;\n        color:#07A033;\n       \n        span{\n            margin-right:15px;\n            border:1px solid #07A033;\n            width:30px;\n            height:30px;\n            border-radius:50%;\n        }\n    }\n    \n    .card{\n        width:100%;\n        max-width: 450px;\n        background:white;\n        border-radius:10px;\n        background:white;\n        padding:25px 20px;\n        position:relative;\n        \n        .cont-icon{\n            font-size:24px;\n            margin-right:10px;\n            width:30px;\n            height:30px;\n            border-radius:50%;\n            color:#07A033;\n            }\n        \n        .pendiente,.rechazada{\n           \n            padding:20px 25px;\n           \n            .tt{\n            font-size:20px;\n            font-weight:bold;\n            color:#07A033;\n            margin-bottom:15px;\n            }\n            \n            p{\n                font-weight:300;\n                font-size:14px;\n            }\n        }\n        \n        .rechazada{\n            .cont-icon{\n                  color: ",";\n            }\n            \n            .tt{\n            color:",";\n            }\n        }\n        \n        .action{\n            position:absolute;\n            width:100%;\n            bottom:0;\n            left:0;\n            transform:translateY(20px)\n        }\n        \n        .acciones{\n            .separator{\n                margin:0 15px;\n                border-left:1px solid ",";\n            }\n            button{\n                background:transparent;\n                font-size:12px;\n                padding:5px;\n                img{\n                  height:16px;\n                  width:auto;  \n                  display:block;\n                  margin-right:15px;\n                }\n            }\n        }\n    }\n"]);return Tn=function(){return e},e}var Rn=Object(s.a)(w)(Tn(),y.rojo01,y.rojo01,y.grey02),Fn=s.a.div(Pn()),Ln=Object(s.a)(w)(_n(),(function(e){return e.color}),y.grey03),In=s.a.div(zn(),(function(e){return e.y})),Mn=s.a.div(An(),(function(e){return e.w})),Bn=function(e){var n=e.pendiente,a=e.text,t=e.status,o=e.subtext,i=e.className;return r.a.createElement(Ln,{jc:"flex-start",alg:"flex-start",className:i,color:t?n?y.rojo01:"#07A033":y.rojo01},!n&&r.a.createElement(w,{flex:"0 0 30px"},r.a.createElement("i",{className:"icon-".concat(t?"check-circle":"cancel-circle")}," ")),r.a.createElement(w,{flex:"1 0 60%",jc:"flex-start",className:"pl-2"},r.a.createElement("p",{className:"mb-0"},a),r.a.createElement("span",{className:"subtext"},o)))},Vn=function(e){var n=e.name,a=e.value,t=e.className;return r.a.createElement(Fn,{className:"wc iv text-left ".concat(t)},r.a.createElement("b",null,n),r.a.createElement("p",{className:"mb-0"},a))},qn=function(e){var n=e.onClick,a=e.text,t=(e.disabled,e.y);return r.a.createElement(In,{y:t},r.a.createElement(A,{size:"md",onClick:n,bRadius:"22px",mw:"144px",className:"mx-auto"},a))},Yn=function(e){var n=e.onClick,a=e.className;return r.a.createElement(Mn,{onClick:n,w:"150px",className:a},r.a.createElement(w,{className:"wc"},r.a.createElement("img",{src:"/img/download.svg",alt:"",className:"mr-2"}),r.a.createElement("span",null,"Descargar")))},Gn=function(){var e="IOS";navigator.userAgent.toLowerCase().indexOf("android")>-1&&(e="ANDROID");return e}();var Hn=Object(R.b)((function(e){return{response:e.global.response,global:e.global}}),null)(Object(Ae.g)(r.a.memo((function(e){var n=Object(t.useState)({loading:!0}),a=Object(c.a)(n,2),o=a[0],i=a[1],l=Object(t.useState)(""),s=Object(c.a)(l,2),u=s[0],m=s[1],d=function(){var e=Object(x.a)(b.a.mark((function e(){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Aceptada"===o.state&&v({eventCategory:"Transaccion - Meter plata - Daviplata",eventAction:"Click",eventLabel:"Exitosa - Compartir",eventValue:"",event:"eventClick"}),e.next=3,Object(Je.pdf)(r.a.createElement(pn,{monto:"$ "+Object(L.i)(o.amount.toString(),"."),numero:"Daviplata "+o.number,referencia:o.refPayco,fecha:Xe()(o.date).format("DD/MM/YYYY - HH:mm:ss"),costo:"$ "+o.comision,transaccion:o.state,cus:o.cus,motivo:o.description,nAprovacion:o.trxId,direcionIp:o.ip})).toBlob();case 3:return n=e.sent,a=new File([n],"DAV_Comprobante_AbonoPSE.pdf",{type:"application/pdf"}),Object(L.e)("sharePdf:"+u,u),e.prev=6,e.next=9,navigator.share({files:[a]});case 9:i(Object(f.a)({},o,{textshare:"MDN shared successfully"})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(6),console.error(e.t0),i(Object(f.a)({},o,{textshare:"Error: "+e.t0}));case 16:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(x.a)(b.a.mark((function e(){var n,a,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=de("transactionID"),e.next=3,fe(de("dominioRecaudo"));case 3:a=e.sent,t={transactionID:n},J()({data:t,url:" ".concat("https://secure.payco.co/recaudo","/api/apify/payment/pse/transaction"),method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){g()})).catch((function(e){g()}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e={status:Object(P.a)(),data:{},message:""},n="https://secure.payco.co/restpagos/transaction/response.json?public_key=db6137dbf3ed0ccdae81f0041b618d56&ref_payco="+de("refPayco");J.a.get(n).then((function(n){if(200===n.status&&n.data.success){var a=n.data.data;i(Object(f.a)({},o,{amount:a.x_amount,cus:a.x_approval_code,bank:a.x_bank_name,hola:a.x_cod_transaction_state,currency:a.x_currency_code,idClient:a.x_cust_id_cliente,ip:a.x_customer_ip,description:a.x_description,date:a.x_fecha_transaccion,franchise:a.x_franchise,refPayco:a.x_ref_payco,state:a.x_response,trxId:a.x_transaction_id,comision:de("commission"),number:de("daviplata"),loading:!1,fallida:"Fallida"===a.x_response||"Rechazada"===a.x_response||"Abandonada"===a.x_response}))}else e.status=!0,i(Object(f.a)({},o,{fallida:!0,loading:!1}))})).catch((function(e){i(Object(f.a)({},o,{fallida:!0,loading:!1}))}))};Object(t.useEffect)((function(){p();var e=window.webkit,n=window.Android;"ANDROID"===Gn&&"undefined"!==typeof n?window.Android.postMessage("lastPage"):"ANDROID"!==Gn&&window.innerWidth<768&&"undefined"!==typeof e&&window.webkit.messageHandlers.getStoredData.postMessage("lastPage"),window.addEventListener("message",(function(e){"lastPage"===e.data&&console.log(e.data,":::::post message de last page:::::")}))}),[]);var v=Object(we.a)().sendDataToGTM;return r.a.createElement(Rn,{direciont:"column",className:"p-3 "},o.loading?r.a.createElement(Fe,{only:!0,noBg:!0}):r.a.createElement(Le,null,r.a.createElement("div",{className:"card "},!o.fallida&&"Aceptada"===o.state&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Bn,{text:"Transacci\xf3n exitosa",status:!0}),r.a.createElement(Vn,{className:"bb",name:"N\xfamero de celular",value:o.number}),r.a.createElement(Vn,{className:"bb",name:"Valor de recarga",value:"$ "+Object(L.i)(o.amount.toString(),".")}),r.a.createElement(Vn,{className:"bb",name:"Fecha y hora de la transacci\xf3n",value:Xe()(o.date).format("DD/MM/YYYY - HH:mm:ss")}),r.a.createElement(Vn,{name:"Costo de transacci\xf3n",value:"$ "+o.comision}),r.a.createElement(w,{className:"pb-4 pt-2 acciones",alg:"stretch"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},o.loadingShare?r.a.createElement("div",{className:"py-3 "},r.a.createElement("b",null,"Cargando documento...")):r.a.createElement("button",{onClick:function(){return d()}},r.a.createElement(w,{className:"wc"},r.a.createElement("img",{src:"/img/share.svg",alt:""}),r.a.createElement("span",null,"Compartir")))),r.a.createElement("div",{className:"separator"}),r.a.createElement("div",{className:"column"},"Pendiente"!==o.state&&r.a.createElement("div",{className:"wc col-6 px-0 position-relative"},r.a.createElement(Je.PDFDownloadLink,{document:r.a.createElement(pn,{monto:"$ "+Object(L.i)(o.amount.toString(),"."),numero:"Daviplata "+o.number,referencia:o.refPayco,fecha:Xe()(o.date).format("DD/MM/YYYY - HH:mm:ss"),costo:"$ "+o.comision,transaccion:o.state,cus:o.cus,motivo:o.description,nAprovacion:o.trxId,direcionIp:o.ip}),fileName:"DAV_Comprobante_AbonoPSE.pdf"},(function(e){e.blob;var n=e.url,a=e.loading;e.error;return"Aceptada"===o.state&&v({eventCategory:"Transaccion - Meter plata - Daviplata",eventAction:"Click",eventLabel:"Exitosa - Descargar",eventValue:"",event:"eventClick"}),!a&&o.loadingShare&&i(Object(f.a)({},o,{loadingShare:!1})),a||""!=u||m(n),a?r.a.createElement("div",{className:"py-3 "},r.a.createElement("b",null,"Cargando documento...")):r.a.createElement("button",{className:"py-2 text-left text-lg-left col-12 download px-0",onClick:function(){Object(L.e)("base64Download:".concat(u))}},r.a.createElement("i",{className:"icon-download mr-1"}," "),"Descargar")}))))))),"Pendiente"===o.state&&r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{className:"pendiente",alg:"flex-start"},r.a.createElement(w,{flex:"0 0 30px",className:"cont-icon"},r.a.createElement("span",null,r.a.createElement("i",{className:"icon icon-check-circle"}," "))),r.a.createElement(w,{flex:"1 0 60%",jc:"flex-start"},r.a.createElement("div",{className:"tt"},"Transacci\xf3n pendiente"),r.a.createElement("p",{className:"mb-2 fr"},"Estamos evaluando su solicitud. Le enviaremos un correo con la respuesta del pago aprobado o rechazado.")))),o.fallida&&r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{className:"rechazada",alg:"flex-start",style:{padding:"0 5px"}},r.a.createElement(w,{flex:"0 0 30px",className:"cont-icon"},r.a.createElement("span",null,r.a.createElement("i",{className:" icon-cancel-circle"}," "))),r.a.createElement(w,{flex:"1 0 60%",jc:"flex-start"},r.a.createElement("div",{className:"tt"},"Transacci\xf3n rechazada"),r.a.createElement("p",{className:"mb-2 fr wc"},"Intente nuevamente")))),r.a.createElement(w,{className:"action"},r.a.createElement(A,{size:"md",bRadius:"22px",mw:"136px",onClick:function(){"ANDROID"===Gn?window.Android.postMessage("finalizar"):window.innerWidth<768&&window.webkit.messageHandlers.getStoredData.postMessage("finalizar"),console.log("di clic finalizar response app"),console.log(o),de("confirm"),"Aceptada"===o.state?v({eventCategory:"Transaccion - Meter plata - Daviplata",eventAction:"Click",eventLabel:"Exitosa - Finalizar",eventValue:"",event:"eventClick"}):"Pendiente"===!o.state&&v({eventCategory:"Transaccion - Meter plata - Daviplata",eventAction:"Click",eventLabel:"Rechazada - Finalizar",eventValue:"",event:"eventClick"})}},"Finalizar")))))}))));a(1101);function Wn(){var e=Object(l.a)(["\n    width:100%;\n    position:fixed;\n    max-width:560px;\n    top:",";\n    left:50%;\n    transform:translateX(-50%);\n    background:",";\n    color:",";\n    z-index:99999999;\n    border-radius: 0 0 10px 10px;\n       \n    \n    .content{   \n        font-size:13px;\n        font-family:'Roboto';\n        font-weight:300;\n    }\n    \n    .icon{\n        color:",";\n        font-size:18px;\n    }\n    \n    .base-cose{\n      height: 15px;\n      width: 100px;\n      padding: 5px 5px;\n      \n      cursor: pointer;\n      position:absolute;\n      bottom: 0px;\n      left: calc(50% - 30px);\n      \n      // background-color: orange; // Para probrar el contenedor \n      \n      & > div{\n        height: 5px;\n        width: 42px;\n        border-radius: 10px;\n        background-color: #575757;\n        display: block;\n        margin: auto;\n      }\n    }\n    \n    @media all and (min-width: 1024px){\n        top:15px;\n        border-radius: 12px;\n        font-size:18px;\n    }    \n"]);return Wn=function(){return e},e}var Un=s.a.div(Wn(),(function(e){return e.top}),(function(e){return e.bg}),(function(e){return e.color}),y.rojo01);var $n={setGlobalData:F},Kn=Object(R.b)((function(e){return{toast:e.global.toast}}),$n)(r.a.memo((function(e){var n=Object(t.useState)(!1),a=Object(c.a)(n,2),o=a[0],i=a[1],l=function(n){e.setGlobalData({toast:{status:!n}})};return Object(t.useEffect)((function(){e.toast.status&&setTimeout((function(){l(e.toast.status)}),1e4),Object(L.g)()&&i(!0)}),[e.toast]),r.a.createElement(q.a,{in:e.toast.status,timeout:300,classNames:"alert",unmountOnExit:!0},r.a.createElement(Un,{bg:e.blanco?"#fff":"#000",color:e.blanco?"#000":"#fff",top:o?"50px":"0px"},r.a.createElement("div",{className:"col-12 p-3 px-xl-4  content"},r.a.createElement(w,{className:"px-0 col-12 col-xl-10 mx-auto"},r.a.createElement(w,{flex:"20px"},r.a.createElement("i",{className:"icon icon-info"}," ")),r.a.createElement(w,{flex:"1 0 70%",jc:"flex-start",className:"mensaje"},e.toast.message)),r.a.createElement("div",{className:"base-cose",onClick:function(){return l(e.toast.status)}},r.a.createElement("div",null)))))}))),Zn=a(224);function Xn(){var e=Object(l.a)(["\n  width: 30%;\n  height: 66pt;\n  padding: 15pt;\n  display: block;\n  margin: 0 auto;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  // background-color: #DD0014;\n"]);return Xn=function(){return e},e}function Jn(){var e=Object(l.a)(["\n    width: 100%;\n    display: flex;\n    position: relative;\n    padding-top: 10pt;\n    padding-bottom: 10pt;\n    border-bottom: 1pt solid ","; \n    // background-color: fuchsia;\n"]);return Jn=function(){return e},e}function Qn(){var e=Object(l.a)(["\n    width: 50%;\n    right: 0;\n    position: absolute;\n    font-size:11pt;\n    font-weight:300;\n    text-align: right;\n    padding-top: 5pt;\n    padding-left: 2.5pt;\n    padding-bottom: 2.5pt;\n    color: #777777;\n    // background-color: orange;\n"]);return Qn=function(){return e},e}function ea(){var e=Object(l.a)(["\n    width: 50%;\n    left: 0;\n    position: absolute;\n    font-size:12pt;\n    font-weight:bold;\n    text-align: left;\n    padding-top: 5pt;\n    padding-left: 2.5pt;\n    padding-bottom: 2.5pt;\n    // background-color: red;\n"]);return ea=function(){return e},e}function na(){var e=Object(l.a)(["\n    font-size: "," ;\n    font-weight: ",";\n    text-align: "," ;\n    padding-bottom: ",";\n    padding-top: ",";\n"]);return na=function(){return e},e}function aa(){var e=Object(l.a)(["\n    position: relative;\n    padding:20pt 29pt;\n    border-radius: 6pt;\n    width: 100%;\n    max-width: 80%;\n    margin: 0 auto;\n    border: 1pt solid #F2F2F2;\n    background-color: #F1F1F1;\n    color: #5C5B5C;\n    .title{\n      color: #343A40 !important;\n    }\n    \n"]);return aa=function(){return e},e}function ta(){var e=Object(l.a)(["\n    padding:0;\n    width:100%;\n    margin:auto;\n    height:100%;\n    font-family: 'Helvetica';\n    justify-content:flex-start;\n    position: relative;\n"]);return ta=function(){return e},e}var ra=en.a.View(ta()),oa=en.a.View(aa()),ia=en.a.Text(na(),(function(e){return e.size?e.size:"22pt"}),(function(e){return e.fontWeight?e.fontWeight:"400"}),(function(e){return e.align?e.align:"left"}),(function(e){return e.marginBottom?e.marginBottom:"5pt"}),(function(e){return e.marginTop?e.marginTop:"5pt"})),ca=en.a.Text(ea()),la=en.a.Text(Qn()),sa=en.a.View(Jn(),(function(e){return e.color})),ua=(en.a.View(Xn()),function(e){var n=e.name,a=e.value,t=e.noB;return r.a.createElement(sa,{color:t?"#F1F1F1":"#D3D3D3"},r.a.createElement(ca,null,n),r.a.createElement(la,null,a))}),ma=Je.StyleSheet.create({page:{marginLeft:0,marginRight:"0 !important"},section:{"@page":{width:300,margin:0}},logo:{width:"165px",height:"74px"},Fheader:{display:"flex",alignItems:"center",backgroundColor:"#373737",padding:"10px 20px",height:"80px",textAlign:"center"},Ffooter:{width:"100%",height:"160px",paddingTop:"20pt",position:"absolute",backgroundColor:"#373737",color:"#FFF",textAlign:"center",right:0,left:0,bottom:0},Ficon:{left:"5px",width:"28px",height:"28px",margin:"5px 10px",position:"absolute",borderRadius:"100pt",backgroundColor:"#FFF"},iconSocial:{width:"28px",height:"28px"},FFtitle:{fontSize:"14pt",textAlign:"center",marginTop:"10pt",marginBottom:"20pt"},Ftitle:{fontFamily:"rBold",fontSize:"28pt",textAlign:"center",marginTop:"27pt",marginBottom:"20pt"},Fbold:{fontFamily:"rBold"},Fregular:{fontFamily:"rRegular"}});Je.Font.register({family:"rBold",src:an.a}),Je.Font.register({family:"rRegular",src:rn.a});var da=function(e){var n=e.referencia,a=e.monto,t=e.transaccion,o=e.fecha,i=e.direcionIp,c=e.cus,l=e.cliente,s=e.bank,u=e.numero,m=e.motivo,d=e.costo;return r.a.createElement(Je.Document,null,r.a.createElement(Je.Page,{size:"A4",style:ma.page},r.a.createElement(ra,null,r.a.createElement(Je.View,{style:ma.Fheader}),r.a.createElement(Je.Text,{style:ma.Ftitle},"Resumen de su compra"),r.a.createElement(ia,{style:ma.Fbold,align:"center",marginBottom:"2pt"},"Comercio: ",l),r.a.createElement(ia,{style:ma.Fregular,align:"center",marginBottom:"30pt",marginTop:"1pt",size:"12pt"},"Fecha transacci\xf3n: ",o),r.a.createElement(oa,null,r.a.createElement(ia,{className:"title",style:ma.Fbold,marginBottom:"8pt",size:"16pt"},"Resultado de la transacci\xf3n"),r.a.createElement(ua,{name:"Estado: ",value:t}),r.a.createElement(ua,{name:"Origen de pago: ",value:s}),r.a.createElement(ua,{name:"Destino de pago: ",value:"******"+u.substring(6,10)}),r.a.createElement(ua,{name:"Autorizaci\xf3n / CUS: ",value:c}),r.a.createElement(ua,{name:"Motivo: ",value:m}),r.a.createElement(ua,{name:"No. de aprobaci\xf3n: ",value:n}),r.a.createElement(ua,{name:"Direcci\xf3n IP: ",value:i,noB:!0}),r.a.createElement(ia,{className:"title",style:ma.Fbold,marginBottom:"8pt",marginTop:"5pt",size:"16pt"},"Valor transacci\xf3n"),r.a.createElement(ua,{name:"Total: ",value:a}),r.a.createElement(ua,{name:"Costo transacci\xf3n: ",value:"".concat(d," Iva incluido")})))))};var pa=Object(R.b)((function(e){return{global:e.global}}),null)(Object(Ae.g)(r.a.memo((function(e){e.history;var n=Object(t.useState)({text:"",loading:!0,fallida:!1,trx:{}}),a=Object(c.a)(n,2),o=a[0],i=a[1],l=function(e){return i(Object(f.a)({},o,{},e))},s=("Comprobande de pago/recarga de daviplata, fecha  ".concat(Xe()().format("DD/MM/YYYY")),function(){var e=Object(x.a)(b.a.mark((function e(){var n,a,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=de("transactionID"),e.next=3,fe(de("dominioRecaudo"));case 3:a=e.sent,t={transactionID:n},J()({data:t,url:" ".concat("https://secure.payco.co/recaudo","/api/apify/payment/pse/transaction"),method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){u()})).catch((function(e){u()}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),u=function(){var e={status:Object(P.a)(),data:{},message:""},n="https://secure.payco.co/restpagos/transaction/response.json?public_key=9cc50212e6fd48560fe6509146373215&ref_payco="+de("refPayco");J.a.get(n).then((function(n){if(200===n.status&&n.data.success){var a=n.data.data,t=de("paymentData");l({loading:!1,trx:{amount:a.x_amount,cus:a.x_approval_code,bank:a.x_bank_name,hola:a.x_cod_transaction_state,currency:a.x_currency_code,idClient:a.x_cust_id_cliente,ip:a.x_customer_ip,description:a.x_description,date:a.x_fecha_transaccion,franchise:a.x_franchise,refPayco:a.x_ref_payco,state:a.x_response,trxId:a.x_transaction_id,comision:de("commission")||0,number:t.cellPhoneDaviplata,urlResponse:t.urlResponse+"?ref_payco="+t.invoiceId,loading:!1,client:t.client},fallida:"Fallida"===a.x_response||"Rechazada"===a.x_response||"Abandonada"===a.x_response})}else e.status=!0,l({fallida:!0,loading:!1})})).catch((function(e){l({fallida:!0,loading:!1})}))};return Object(t.useEffect)((function(){s()}),[]),r.a.createElement(qe,null,r.a.createElement("div",{className:"contHeader mb-2 mb-lg-0"},r.a.createElement(Pe,null)),o.loading?r.a.createElement("div",{className:"text-center py-5"},r.a.createElement("h2",null," Procesando... ")):r.a.createElement(r.a.Fragment,null,o.fallida?r.a.createElement("div",{className:"wc px-3"},r.a.createElement(Ue,null," Informaci\xf3n de pago"),r.a.createElement(w,{className:"card pb-5",alg:"flex-start",jc:"flex-start"},r.a.createElement(Bn,{status:!1,text:"Pago rechazado",subtext:"Intente nuevamente"}),r.a.createElement(qn,{text:"Finalizar",y:"18px",onClick:function(){window.location.assign(o.trx.urlResponse),pe()}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue,null," Informaci\xf3n de pago."),r.a.createElement("div",{className:"wc px-3"},r.a.createElement(w,{className:"card pb-5",alg:"flex-start",jc:"flex-start"},r.a.createElement(r.a.Fragment,null,r.a.createElement(Bn,{status:!0,text:"Pago ".concat("Aceptada"===o.trx.state?"exitoso":o.trx.state),subtext:"",className:"mb-2",pendiente:"Pendiente"===o.trx.state}),r.a.createElement(Vn,{className:"bb",name:"\xbfA qui\xe9n le pag\xf3?",value:o.trx.client}),r.a.createElement(Vn,{className:"bb",name:"Valor pagado",value:"$"+Object(L.i)(o.trx.amount.toString(),".")+" COP"}),r.a.createElement(Vn,{className:"bb",name:"Referencia",value:o.trx.refPayco}),r.a.createElement(Vn,{name:"Fecha y hora de la transacci\xf3n",value:Xe()(o.trx.date).format("DD/MM/YYYY - HH:mm:ss")}),r.a.createElement("div",{className:" wc"},r.a.createElement(Je.PDFDownloadLink,{document:r.a.createElement(da,{cliente:o.trx.client,monto:"$ "+Object(L.i)(o.trx.amount.toString(),"."),numero:o.trx.number,referencia:o.trx.refPayco,fecha:Xe()(o.trx.date).format("DD/MM/YYYY - HH:mm:ss"),costo:"$ "+o.trx.comision,transaccion:o.trx.state,cus:o.trx.cus,motivo:"Compra Catalogo",nAprovacion:o.trx.trxId,direcionIp:o.trx.ip,bank:o.trx.bank}),fileName:"Informacion_de_pago.pdf"},(function(e){e.blob,e.url;var n=e.loading;e.error;return n?"Loading document...":r.a.createElement(Yn,{className:"mx-auto my-2"})}))),r.a.createElement(qn,{text:"Finalizar",y:"18px",onClick:function(){window.location.assign(o.trx.urlResponse),pe()}})))))))})))),fa=a(561),ga=a.n(fa),ba=function(){var e="IOS";navigator.userAgent.toLowerCase().indexOf("android")>-1&&(e="ANDROID");return e}();var xa=function(){var e=Object(we.a)(),n=e.init,a=(e.UseGTMHookProvider,Object(Ae.f)()),o=Object(t.useState)("https://multimedia.epayco.co/dashboard/login/img/favicon-32x32.png"),i=Object(c.a)(o,2),l=i[0],s=i[1];return Object(t.useEffect)((function(){n({id:"GTM-PDDFG4M"});var e=window.location.pathname;"/"!==e&&"/recargar"!==e||(window.location.href="meter-plata");var t="https://daviplata.epayco.me";"/meter-plata"===e||"/meter-plata/respuesta"===e||"/recargaD"===e||"/recargaD/respuesta"===e?(document.title="Meter Plata - DaviPlata | Ingrese a la opci\xf3n Meter Plata desde nuestra p\xe1gina - DaviPlata",s("https://multimedia.epayco.co/vende/vende-davivienda/Favicon+Daviplata+(1)+(1).png"),t="https://daviplata.epayco.me"):(document.title="Pagos PSE",t="https://pagardaviplata.epayco.me"),"/pagar"!==e&&(fe(t,!0),me("dominioRecaudo",t)),window.addEventListener("message",(function(e){"backPage"===e.data&&("/recargaD/respuesta"===a.location.pathname&&(a.push("/recargaD"),"ANDROID"===ba?window.Android.postMessage("true"):window.webkit.messageHandlers.getStoredData.postMessage("true")),"/recargaD"===a.location.pathname&&("ANDROID"===ba?window.Android.postMessage("false"):window.webkit.messageHandlers.getStoredData.postMessage("false")))}))}),[]),r.a.createElement("div",{className:"main-container notranslate"},r.a.createElement(ga.a,{url:l}),r.a.createElement(Zn.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Kn,null),r.a.createElement(Ae.c,null,r.a.createElement(Ae.a,{exact:!0,path:"/meter-plata",render:function(){return r.a.createElement(Be,null)}}),r.a.createElement(Ae.a,{exact:!0,path:"/meter-plata/respuesta",render:function(){return r.a.createElement(kn,null)}}),r.a.createElement(Ae.a,{exact:!0,path:"/pagar",render:function(){return r.a.createElement(Ke,null)}}),r.a.createElement(Ae.a,{exact:!0,path:"/pagar/respuesta",render:function(){return r.a.createElement(pa,null)}}),r.a.createElement(Ae.a,{exact:!0,path:"/recargaD",render:function(){return r.a.createElement(Sn,null)}}),r.a.createElement(Ae.a,{exact:!0,path:"/recargaD/respuesta",render:function(){return r.a.createElement(Hn,null)}})))),r.a.createElement(Fe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(R.a,{store:ie},r.a.createElement(xa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},15:function(e,n,a){"use strict";(function(e){a.d(n,"f",(function(){return r})),a.d(n,"g",(function(){return o})),a.d(n,"i",(function(){return c})),a.d(n,"j",(function(){return l})),a.d(n,"a",(function(){return s})),a.d(n,"c",(function(){return m})),a.d(n,"d",(function(){return d})),a.d(n,"b",(function(){return p})),a.d(n,"e",(function(){return f})),a.d(n,"h",(function(){return g}));var t=a(562),r=function(e,n){var a;return a=e.replace(/[^0-9]/g,""),n&&(a=a.substring(0,n)),a},o=function(e){var n=navigator.userAgent.match(/Android/i),a=navigator.userAgent.match(/webOS/i),t=navigator.userAgent.match(/iPhone/i),r=navigator.userAgent.match(/iPad/i),o=navigator.userAgent.match(/iPod/i),i=navigator.userAgent.match(/BlackBerry/i),c=navigator.userAgent.match(/Windows Phone/i);return"undefined"!==typeof e&&void 0!==typeof e&&"string"==typeof e&&""!==e?{Android:n,Webos:a,Iphone:t,Ipad:r,Ipod:o,Blackberry:i,Windowsphone:c}[e]:n||a||t||r||o||i||c};function i(e,n){return"undefined"!==typeof e&&void 0!==typeof e&&""!==typeof e&&(void 0===typeof n||"string"!=typeof n||typeof e==n)}function c(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",a=i(n),t=a?n.substring(0,1):",";return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)}var l=function(e){return i(e,"string")?e.replace(/[^a-zA-Z0-9@.\-_~!$&'()*+,;=:]/g,""):""};function s(e,n){t.a.event({category:e,action:n})}var u=e&&!0,m=u?[1151,1551,0]:[],d=u?[1151,1551,0]:[],p=u?[1551,0]:[],f=function(e,n){o("Android")?window.Android?window.Android.postMessage(e):window.android?window.android.postMessage(e):window.postMessage(e):window.webkit&&window.webkit.messageHandlers.getStoredData.postMessage(e)},g={email:"El correo ingresado es inv\xe1lido.",receptor:"El Receptor es inv\xe1lido.",daviplata:"El DaviPlata destino no existe o no se encuentra activo.",phone:"N\xfamero de cel\xfalar inv\xe1lido",confirm:"Los datos del n\xfamero de celular no coinciden.",bank:"El banco destino no existe o no se encuentra activo.",min:"El valor ingresado es menor al monto m\xednimo permitido.",max:"El valor ingresado supera el monto m\xe1ximo permitido.",required:""}}).call(this,a(63))},282:function(e,n,a){e.exports=a.p+"static/media/RobotoCondensed-Bold.cbd4e701.ttf"},283:function(e,n,a){e.exports=a.p+"static/media/RobotoCondensed-Regular.52ee8b59.ttf"},567:function(e,n,a){e.exports=a(1102)},799:function(e,n,a){},824:function(e,n){},826:function(e,n){},858:function(e,n){},859:function(e,n){},958:function(e,n){},959:function(e,n){}},[[567,1,2]]]);
//# sourceMappingURL=main.f9416668.chunk.js.map