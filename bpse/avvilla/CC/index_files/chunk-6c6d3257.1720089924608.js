(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c6d3257"],{"0767":function(t,e,s){},"0d5c":function(t,e,s){},"500d":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"top-bar"},[!t.logoState&&t.noticeList.length>0?e("notice-bar",{attrs:{"notice-list":t.noticeList,"logo-state":t.logoState}}):t._e(),e("KycAlert")],1)},r=[],i=function(){var t=this,e=t._self._c;return t.showKycAlert&&t.status?e("div",{staticClass:"kyc-alert"},[e("div",{staticClass:"alert-inner",class:[t.status]},[e("div",{staticClass:"fl",on:{click:t.goKycStatus}},["waiting"===t.status?[e("span",{staticClass:"text"},[t._v(" "+t._s(t.$t("kycAlert.waiting_msg"))+" ")]),e("span",{staticClass:"time"},[t._v(t._s(t.timeFormat))])]:"succeeded"===t.status?[e("span",{staticClass:"text"},[t._v(t._s(t.$t("kycAlert.success_msg")))])]:"failed"===t.status?[e("span",{staticClass:"text cursor-pointer"},[t._v(" "+t._s(t.$t("kycAlert.failure_msg"))+" ")])]:t._e()],2),e("div",{staticClass:"fr"},[e("img",{attrs:{src:s("063d"),alt:""},on:{click:t.onCloseKycAlert}})])])]):t._e()},c=[],l=(s("14d9"),s("3591")),n={name:"KycAlert",data(){return{showKycAlert:!1,waitingTime:0,timer:null,kycInfo:{},getKycStatusTimer:null}},computed:{timeFormat(){let t=this.waitingTime,e=String(parseInt(t/60/60)).padStart(2,0),s=String(parseInt(t/60%60)).padStart(2,0),a=String(t%60).padStart(2,0);return t<3600?`${s}:${a}`:`${e}:${s}:${a}`},status(){let t="";const{userLevel:e,kycFlag:s,currKycStatus:a}=this.kycInfo;switch(!0){case 1==e&&2==s&&[4,5].includes(a):t="waiting";break;case 1==e&&2==s&&3==a:t="failed";break}return t}},mounted(){},beforeDestroy(){clearInterval(this.timer),clearInterval(this.getKycStatusTimer)},watch:{$route:{immediate:!0,deep:!0,handler(t){"/index"===t.path&&localStorage.getItem("token")&&localStorage.getItem("email")&&"true"!==localStorage.getItem("kycAlertClosed")?(this.showKycAlert=!0,this.init(),clearInterval(this.getKycStatusTimer),this.getKycStatusTimer=setInterval(()=>{this.init()},5e3)):(clearInterval(this.timer),clearInterval(this.getKycStatusTimer),this.showKycAlert=!1)}}},methods:{async init(){try{const t=await Object(l["h"])();if(["2","3","4"].includes(t))return clearInterval(this.timer),void clearInterval(this.getKycStatusTimer);this.kycInfo=await Object(l["a"])();const{currTime:e,kycStartTime:s,kycFlag:a,currKycStatus:r,userLevel:i}=this.kycInfo;this.waitingTime=parseInt((e-s)/1e3),clearInterval(this.timer),this.timer=setInterval(()=>{this.waitingTime++},1e3),2==a&&[4,5].includes(r)&&1==i||(clearInterval(this.timer),clearInterval(this.getKycStatusTimer))}catch(t){clearInterval(this.timer),clearInterval(this.getKycStatusTimer),console.error(t)}},goKycStatus(){this.$router.push({path:"/kycStatus"})},onCloseKycAlert(){localStorage.setItem("kycAlertClosed","true"),this.showKycAlert=!1}}},o=n,u=(s("db10"),s("2877")),h=Object(u["a"])(o,i,c,!1,null,"1cc1aa30",null),m=h.exports,d={name:"TopBar",props:["noticeList","logoState"],components:{KycAlert:m},data(){return{}},computed:{},mounted(){},beforeDestroy(){},watch:{},methods:{}},y=d,g=(s("e0db"),Object(u["a"])(y,a,r,!1,null,"1cd0e017",null));e["default"]=g.exports},db10:function(t,e,s){"use strict";s("0d5c")},e0db:function(t,e,s){"use strict";s("0767")}}]);